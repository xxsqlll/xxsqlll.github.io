<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"xxsqlll.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","width":240,"display":"always","padding":18,"offset":12,"onmobile":false,"b2t":true,"scrollpercent":true},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":true,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="基于物品的协同过滤1. 定义基于物品的协同过滤算法，简称itemCF，就是根据目标用户的历史偏好，给他推荐与他喜欢的物品相关性高的物品。 2. itemCF处理流程 STEP 1 分析数据集找到相似的物品 STEP 2 根据目标用户的历史喜好，将相似的物品推荐给他">
<meta property="og:type" content="article">
<meta property="og:title" content="基于物品的协同过滤">
<meta property="og:url" content="https://xxsqlll.github.io/posts/24cc6ca3/index.html">
<meta property="og:site_name" content="小刑的博客">
<meta property="og:description" content="基于物品的协同过滤1. 定义基于物品的协同过滤算法，简称itemCF，就是根据目标用户的历史偏好，给他推荐与他喜欢的物品相关性高的物品。 2. itemCF处理流程 STEP 1 分析数据集找到相似的物品 STEP 2 根据目标用户的历史喜好，将相似的物品推荐给他">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-09-12T02:57:45.000Z">
<meta property="article:modified_time" content="2023-09-16T10:16:41.735Z">
<meta property="article:author" content="小刑">
<meta property="article:tag" content="学习">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://xxsqlll.github.io/posts/24cc6ca3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>基于物品的协同过滤 | 小刑的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="小刑的博客" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">小刑的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">五马六猴，解衣磅礴</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-movies">

    <a href="/movies/" rel="section"><i class="fa fa-film fa-fw"></i>电影</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/xxsqlll" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://xxsqlll.github.io/posts/24cc6ca3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.JPG">
      <meta itemprop="name" content="小刑">
      <meta itemprop="description" content="这个人很懒，什么也不想写">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="小刑的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          基于物品的协同过滤
        </h1>

        <div class="post-meta">
          <span class="post-time">

          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2023-09-12 10:57:45" itemprop="dateCreated datePublished" datetime="2023-09-12T10:57:45+08:00">2023-09-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2023-09-16 18:16:41" itemprop="dateModified" datetime="2023-09-16T18:16:41+08:00">2023-09-16</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
            </span>

          
            <span id="/posts/24cc6ca3/" class="post-meta-item leancloud_visitors" data-flag-title="基于物品的协同过滤" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
          <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
              <i class="fa fa-fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
          </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/posts/24cc6ca3/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/posts/24cc6ca3/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>25k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>45 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="基于物品的协同过滤"><a href="#基于物品的协同过滤" class="headerlink" title="基于物品的协同过滤"></a>基于物品的协同过滤</h1><h2 id="1-定义"><a href="#1-定义" class="headerlink" title="1. 定义"></a>1. 定义</h2><p>基于物品的协同过滤算法，简称<strong>itemCF</strong>，就是根据目标用户的历史偏好，给他推荐与他喜欢的物品相关性高的物品。</p>
<h2 id="2-itemCF处理流程"><a href="#2-itemCF处理流程" class="headerlink" title="2. itemCF处理流程"></a>2. itemCF处理流程</h2><ul>
<li>STEP 1 分析数据集找到相似的物品</li>
<li>STEP 2 根据目标用户的历史喜好，将相似的物品推荐给他</li>
</ul>
<hr>
<h2 id="寻找相似的电影"><a href="#寻找相似的电影" class="headerlink" title="寻找相似的电影"></a>寻找相似的电影</h2><h3 id="STEP-1-读取并拼接数据集"><a href="#STEP-1-读取并拼接数据集" class="headerlink" title="STEP 1 读取并拼接数据集"></a>STEP 1 读取并拼接数据集</h3><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 导入pandas模块，简称pd</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"># 使用read_csv()函数读取路径为<span class="string">&quot;/Users/movie/ratings.csv&quot;</span>的文件，并赋值给变量ratings</span><br><span class="line">ratings = pd.read_csv(<span class="string">&quot;/Users/movie/ratings.csv&quot;</span>)</span><br><span class="line"></span><br><span class="line"># 使用read_csv()函数读取路径为<span class="string">&quot;/Users/movie/movies.csv&quot;</span>的文件，并赋值给变量movies</span><br><span class="line">movies = pd.read_csv(<span class="string">&quot;/Users/movie/movies.csv&quot;</span>)</span><br><span class="line"></span><br><span class="line"># 使用merge()函数，拼接ratings和movies，并赋值给变量result</span><br><span class="line">result = pd.merge(ratings, movies)</span><br><span class="line"></span><br><span class="line"># 输出result进行查看</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>
<p><strong>output:</strong></p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">         用户id  电影id  评分                                       电影名</span><br><span class="line">0            <span class="number"> 1 </span>  <span class="number"> 1193 </span>   <span class="number"> 5 </span>      One Flew Over the Cuckoo&#x27;s Nest (1975)</span><br><span class="line">1            <span class="number"> 2 </span>  <span class="number"> 1193 </span>   <span class="number"> 5 </span>      One Flew Over the Cuckoo&#x27;s Nest (1975)</span><br><span class="line">2           <span class="number"> 12 </span>  <span class="number"> 1193 </span>   <span class="number"> 4 </span>      One Flew Over the Cuckoo&#x27;s Nest (1975)</span><br><span class="line">3           <span class="number"> 15 </span>  <span class="number"> 1193 </span>   <span class="number"> 4 </span>      One Flew Over the Cuckoo&#x27;s Nest (1975)</span><br><span class="line">4           <span class="number"> 17 </span>  <span class="number"> 1193 </span>   <span class="number"> 5 </span>      One Flew Over the Cuckoo&#x27;s Nest (1975)</span><br><span class="line">...         ...     ...   ...                                          ...</span><br><span class="line">1000204   <span class="number"> 5949 </span>  <span class="number"> 2198 </span>   <span class="number"> 5 </span>                          Modulations (1998)</span><br><span class="line">1000205   <span class="number"> 5675 </span>  <span class="number"> 2703 </span>   <span class="number"> 3 </span>                       Broken Vessels (1998)</span><br><span class="line">1000206   <span class="number"> 5780 </span>  <span class="number"> 2845 </span>   <span class="number"> 1 </span>                           White Boys (1999)</span><br><span class="line">1000207   <span class="number"> 5851 </span>  <span class="number"> 3607 </span>   <span class="number"> 5 </span>                    One Little Indian (1973)</span><br><span class="line">1000208   <span class="number"> 5938 </span>  <span class="number"> 2909 </span>   <span class="number"> 4 </span> Five Wives, Three Secretaries and Me (1998)</span><br><span class="line"></span><br><span class="line">[1000209 rows x<span class="number"> 4 </span>columns]</span><br></pre></td></tr></table></figure>

<h3 id="STEP-2-构建「用户-物品数据透视表」"><a href="#STEP-2-构建「用户-物品数据透视表」" class="headerlink" title="STEP 2 构建「用户-物品数据透视表」"></a>STEP 2 构建「用户-物品数据透视表」</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import pandas <span class="keyword">as</span> pd</span><br><span class="line">ratings = pd.read<span class="constructor">_csv(<span class="string">&quot;/Users/movie/ratings.csv&quot;</span>)</span></span><br><span class="line">movies = pd.read<span class="constructor">_csv(<span class="string">&quot;/Users/movie/movies.csv&quot;</span>)</span></span><br><span class="line">result = pd.merge(ratings, movies)</span><br><span class="line"># 使用pivot<span class="constructor">_table()</span>函数构建数据透视表</span><br><span class="line">user_movie = result.pivot<span class="constructor">_table(<span class="params">index</span>=<span class="string">&quot;用户id&quot;</span>,<span class="params">columns</span>=<span class="string">&quot;电影名&quot;</span>,<span class="params">values</span>=<span class="string">&quot;评分&quot;</span>)</span></span><br><span class="line">print(user_movie)</span><br></pre></td></tr></table></figure>
<p><strong>output:</strong></p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">电影名  $1,000,000 Duck <span class="params">(1971)</span>  &#x27;Night Mother <span class="params">(1986)</span>  &#x27;Til There Was You <span class="params">(1997)</span>  &#x27;burbs, The <span class="params">(1989)</span>  <span class="string">...And</span> Justice for All <span class="params">(1979)</span>  1-900 <span class="params">(1994)</span>  10 Things I Hate About You <span class="params">(1999)</span>  101 Dalmatians <span class="params">(1961)</span>  101 Dalmatians <span class="params">(1996)</span>  12 Angry Men <span class="params">(1957)</span>  13th Warrior, The <span class="params">(1999)</span>  187 <span class="params">(1997)</span>  2 Days in the Valley <span class="params">(1996)</span>  20 Dates <span class="params">(1998)</span>  20,000 Leagues Under the Sea <span class="params">(1954)</span>  200 Cigarettes <span class="params">(1999)</span>  2001: A Space Odyssey <span class="params">(1968)</span>  2010 <span class="params">(1984)</span>  24 7: Twenty Four Seven <span class="params">(1997)</span>  24-hour Woman <span class="params">(1998)</span>  28 Days <span class="params">(2000)</span>  3 Ninjas: High Noon On Mega Mountain <span class="params">(1998)</span>  3 Strikes <span class="params">(2000)</span>  301, 302 <span class="params">(1995)</span>  39 Steps, The <span class="params">(1935)</span>  400 Blows, The <span class="params">(Les Quatre cents coups)</span> <span class="params">(1959)</span>  42 Up <span class="params">(1998)</span>  52 Pick-Up <span class="params">(1986)</span>  54 <span class="params">(1998)</span>  7th Voyage of Sinbad, The <span class="params">(1958)</span>  8 1/2 <span class="params">(1963)</span>  8 1/2 Women <span class="params">(1999)</span>  8 Heads in a Duffel Bag <span class="params">(1997)</span>  8 Seconds <span class="params">(1994)</span>  8MM <span class="params">(1999)</span>  A Chef in Love <span class="params">(1996)</span>  Abbott and Costello Meet Frankenstein <span class="params">(1948)</span>  Abominable Snowman, The <span class="params">(1957)</span>  About Adam <span class="params">(2000)</span>  About Last Night.<span class="string">..</span> <span class="params">(1986)</span>  <span class="string">...</span>  Wonderland <span class="params">(1997)</span>  Wonderland <span class="params">(1999)</span>  Woo <span class="params">(1998)</span>  Wood, The <span class="params">(1999)</span>  Wooden Man&#x27;s Bride, The <span class="params">(Wu Kui)</span> <span class="params">(1994)</span>  Working Girl <span class="params">(1988)</span>  World Is Not Enough, The <span class="params">(1999)</span>  World of Apu, The <span class="params">(Apur Sansar)</span> <span class="params">(1959)</span>  Wrong Man, The <span class="params">(1956)</span>  Wrong Trousers, The <span class="params">(1993)</span>  Wrongfully Accused <span class="params">(1998)</span>  Wyatt Earp <span class="params">(1994)</span>  X-Files: Fight the Future, The <span class="params">(1998)</span>  X-Men <span class="params">(2000)</span>  X: The Unknown <span class="params">(1956)</span>  Xiu Xiu: The Sent-Down Girl <span class="params">(Tian yu)</span> <span class="params">(1998)</span>  Yankee Zulu <span class="params">(1994)</span>  Yards, The <span class="params">(1999)</span>  Year My Voice Broke, The <span class="params">(1987)</span>  Year of Living Dangerously <span class="params">(1982)</span>  Year of the Horse <span class="params">(1997)</span>  Yellow Submarine <span class="params">(1968)</span>  Yojimbo <span class="params">(1961)</span>  You Can&#x27;t Take It With You <span class="params">(1938)</span>  You So Crazy <span class="params">(1994)</span>  You&#x27;ve Got Mail <span class="params">(1998)</span>  Young Doctors in Love <span class="params">(1982)</span>  Young Frankenstein <span class="params">(1974)</span>  Young Guns <span class="params">(1988)</span>  Young Guns II <span class="params">(1990)</span>  Young Poisoner&#x27;s Handbook, The <span class="params">(1995)</span>  Young Sherlock Holmes <span class="params">(1985)</span>  Young and Innocent <span class="params">(1937)</span>  Your Friends and Neighbors <span class="params">(1998)</span>  Zachariah <span class="params">(1971)</span>  Zed &amp; Two Noughts, A <span class="params">(1985)</span>  Zero Effect <span class="params">(1998)</span>  Zero Kelvin <span class="params">(KjArlighetens kjAtere)</span> <span class="params">(1995)</span>  Zeus and Roxanne <span class="params">(1997)</span>  eXistenZ <span class="params">(1999)</span></span><br><span class="line">用户id                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           <span class="string">...</span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  </span><br><span class="line">1                          NaN                   NaN                        NaN                 NaN                            NaN           NaN                                NaN                    NaN                    NaN                  NaN                       NaN         NaN                          NaN              NaN                                  NaN                    NaN                           NaN          NaN                             NaN                   NaN             NaN                                          NaN               NaN              NaN                   NaN                                             NaN           NaN                NaN        NaN                               NaN           NaN                 NaN                             NaN               NaN         NaN                    NaN                                           NaN                             NaN                NaN                         NaN  <span class="string">...</span>                NaN                NaN         NaN               NaN                                      NaN                  NaN                              NaN                                     NaN                    NaN                         NaN                        NaN                NaN                                    NaN           NaN                    NaN                                           NaN                 NaN                NaN                              NaN                                NaN                       NaN                      NaN             NaN                                NaN                  NaN                     NaN                           NaN                        NaN                NaN                   NaN                                    NaN                           NaN                        NaN                                NaN               NaN                          NaN                 NaN                                         NaN                      NaN              NaN</span><br><span class="line">2                          NaN                   NaN                        NaN                 NaN                            NaN           NaN                                NaN                    NaN                    NaN                  NaN                       NaN         NaN                          NaN              NaN                                  NaN                    NaN                           NaN          NaN                             NaN                   NaN             NaN                                          NaN               NaN              NaN                   NaN                                             NaN           NaN                NaN        NaN                               NaN           NaN                 NaN                             NaN               NaN         NaN                    NaN                                           NaN                             NaN                NaN                         NaN  <span class="string">...</span>                NaN                NaN         NaN               NaN                                      NaN                  NaN                              NaN                                     NaN                    NaN                         NaN                        NaN                NaN                                    NaN           NaN                    NaN                                           NaN                 NaN                NaN                              NaN                                NaN                       NaN                      NaN             4.0                                NaN                  NaN                     NaN                           NaN                        NaN                NaN                   NaN                                    NaN                           NaN                        NaN                                NaN               NaN                          NaN                 NaN                                         NaN                      NaN              NaN</span><br><span class="line">3                          NaN                   NaN                        NaN                 NaN                            NaN           NaN                                NaN                    NaN                    NaN                  NaN                       NaN         NaN                          NaN              NaN                                  NaN                    NaN                           NaN          NaN                             NaN                   NaN             3.0                                          NaN               NaN              NaN                   NaN                                             NaN           NaN                NaN        NaN                               NaN           NaN                 NaN                             NaN               NaN         NaN                    NaN                                           NaN                             NaN                NaN                         NaN  <span class="string">...</span>                NaN                NaN         NaN               NaN                                      NaN                  NaN                              NaN                                     NaN                    NaN                         NaN                        NaN                NaN                                    NaN           NaN                    NaN                                           NaN                 NaN                NaN                              NaN                                NaN                       NaN                      NaN             NaN                                NaN                  NaN                     NaN                           NaN                        NaN                5.0                   4.0                                    NaN                           NaN                        NaN                                NaN               NaN                          NaN                 NaN                                         NaN                      NaN              NaN</span><br><span class="line">4                          NaN                   NaN                        NaN                 NaN                            NaN           NaN                                NaN                    NaN                    NaN                  NaN                       NaN         NaN                          NaN              NaN                                  NaN                    NaN                           NaN          NaN                             NaN                   NaN             NaN                                          NaN               NaN              NaN                   NaN                                             NaN           NaN                NaN        NaN                               NaN           NaN                 NaN                             NaN               NaN         NaN                    NaN                                           NaN                             NaN                NaN                         NaN  <span class="string">...</span>                NaN                NaN         NaN               NaN                                      NaN                  NaN                              NaN                                     NaN                    NaN                         NaN                        NaN                NaN                                    NaN           NaN                    NaN                                           NaN                 NaN                NaN                              NaN                                NaN                       NaN                      NaN             NaN                                NaN                  NaN                     NaN                           NaN                        NaN                NaN                   NaN                                    NaN                           NaN                        NaN                                NaN               NaN                          NaN                 NaN                                         NaN                      NaN              NaN</span><br><span class="line">5                          NaN                   NaN                        NaN                 NaN                            NaN           NaN                                NaN                    NaN                    NaN                  NaN                       NaN         NaN                          NaN              NaN                                  NaN                    NaN                           NaN          NaN                             NaN                   NaN             NaN                                          NaN               NaN              NaN                   NaN                                             NaN           NaN                NaN        1.0                               NaN           NaN                 NaN                             NaN               NaN         NaN                    NaN                                           NaN                             NaN                NaN                         NaN  <span class="string">...</span>                NaN                NaN         NaN               NaN                                      NaN                  NaN                              NaN                                     NaN                    NaN                         NaN                        NaN                NaN                                    3.0           2.0                    NaN                                           NaN                 NaN                NaN                              NaN                                NaN                       NaN                      NaN             NaN                                NaN                  NaN                     NaN                           NaN                        NaN                NaN                   NaN                                    NaN                           NaN                        NaN                                NaN               NaN                          NaN                 NaN                                         NaN                      NaN              NaN</span><br><span class="line"><span class="string">...</span>                        <span class="string">...</span>                   <span class="string">...</span>                        <span class="string">...</span>                 <span class="string">...</span>                            <span class="string">...</span>           <span class="string">...</span>                                <span class="string">...</span>                    <span class="string">...</span>                    <span class="string">...</span>                  <span class="string">...</span>                       <span class="string">...</span>         <span class="string">...</span>                          <span class="string">...</span>              <span class="string">...</span>                                  <span class="string">...</span>                    <span class="string">...</span>                           <span class="string">...</span>          <span class="string">...</span>                             <span class="string">...</span>                   <span class="string">...</span>             <span class="string">...</span>                                          <span class="string">...</span>               <span class="string">...</span>              <span class="string">...</span>                   <span class="string">...</span>                                             <span class="string">...</span>           <span class="string">...</span>                <span class="string">...</span>        <span class="string">...</span>                               <span class="string">...</span>           <span class="string">...</span>                 <span class="string">...</span>                             <span class="string">...</span>               <span class="string">...</span>         <span class="string">...</span>                    <span class="string">...</span>                                           <span class="string">...</span>                             <span class="string">...</span>                <span class="string">...</span>                         <span class="string">...</span>  <span class="string">...</span>                <span class="string">...</span>                <span class="string">...</span>         <span class="string">...</span>               <span class="string">...</span>                                      <span class="string">...</span>                  <span class="string">...</span>                              <span class="string">...</span>                                     <span class="string">...</span>                    <span class="string">...</span>                         <span class="string">...</span>                        <span class="string">...</span>                <span class="string">...</span>                                    <span class="string">...</span>           <span class="string">...</span>                    <span class="string">...</span>                                           <span class="string">...</span>                 <span class="string">...</span>                <span class="string">...</span>                              <span class="string">...</span>                                <span class="string">...</span>                       <span class="string">...</span>                      <span class="string">...</span>             <span class="string">...</span>                                <span class="string">...</span>                  <span class="string">...</span>                     <span class="string">...</span>                           <span class="string">...</span>                        <span class="string">...</span>                <span class="string">...</span>                   <span class="string">...</span>                                    <span class="string">...</span>                           <span class="string">...</span>                        <span class="string">...</span>                                <span class="string">...</span>               <span class="string">...</span>                          <span class="string">...</span>                 <span class="string">...</span>                                         <span class="string">...</span>                      <span class="string">...</span>              <span class="string">...</span></span><br><span class="line">6036                       NaN                   3.0                        NaN                 NaN                            NaN           NaN                                2.0                    4.0                    NaN                  NaN                       1.0         NaN                          3.0              1.0                                  3.0                    NaN                           5.0          2.0                             NaN                   NaN             NaN                                          NaN               NaN              NaN                   NaN                                             NaN           NaN                NaN        NaN                               NaN           NaN                 NaN                             NaN               NaN         NaN                    NaN                                           NaN                             NaN                NaN                         2.0  <span class="string">...</span>                4.0                NaN         NaN               NaN                                      NaN                  3.0                              NaN                                     NaN                    NaN                         5.0                        NaN                NaN                                    3.0           NaN                    NaN                                           NaN                 NaN                NaN                              4.0                                4.0                       NaN                      4.0             5.0                                NaN                  NaN                     NaN                           NaN                        4.0                NaN                   NaN                                    NaN                           3.0                        NaN                                NaN               NaN                          NaN                 NaN                                         NaN                      NaN              2.0</span><br><span class="line">6037                       NaN                   NaN                        NaN                 NaN                            NaN           NaN                                NaN                    NaN                    NaN                  4.0                       NaN         NaN                          NaN              NaN                                  3.0                    NaN                           5.0          NaN                             NaN                   NaN             NaN                                          NaN               NaN              NaN                   3.0                                             NaN           NaN                NaN        NaN                               NaN           NaN                 NaN                             NaN               NaN         NaN                    NaN                                           NaN                             NaN                NaN                         NaN  <span class="string">...</span>                NaN                NaN         NaN               NaN                                      NaN                  NaN                              NaN                                     NaN                    NaN                         NaN                        NaN                NaN                                    3.0           NaN                    NaN                                           NaN                 NaN                NaN                              NaN                                3.0                       NaN                      NaN             NaN                                NaN                  NaN                     NaN                           NaN                        NaN                NaN                   NaN                                    NaN                           NaN                        NaN                                NaN               NaN                          NaN                 NaN                                         NaN                      NaN              NaN</span><br><span class="line">6038                       NaN                   NaN                        NaN                 NaN                            NaN           NaN                                NaN                    NaN                    NaN                  NaN                       NaN         NaN                          NaN              NaN                                  NaN                    NaN                           NaN          NaN                             NaN                   NaN             NaN                                          NaN               NaN              NaN                   NaN                                             NaN           NaN                NaN        NaN                               NaN           NaN                 NaN                             NaN               NaN         NaN                    NaN                                           NaN                             NaN                NaN                         NaN  <span class="string">...</span>                NaN                NaN         NaN               NaN                                      NaN                  NaN                              NaN                                     NaN                    NaN                         5.0                        NaN                NaN                                    NaN           NaN                    NaN                                           NaN                 NaN                NaN                              NaN                                NaN                       NaN                      NaN             NaN                                NaN                  NaN                     NaN                           NaN                        NaN                NaN                   NaN                                    NaN                           NaN                        NaN                                NaN               NaN                          NaN                 NaN                                         NaN                      NaN              NaN</span><br><span class="line">6039                       NaN                   NaN                        NaN                 NaN                            NaN           NaN                                NaN                    NaN                    NaN                  NaN                       NaN         NaN                          NaN              NaN                                  NaN                    NaN                           4.0          NaN                             NaN                   NaN             NaN                                          NaN               NaN              NaN                   NaN                                             NaN           NaN                NaN        NaN                               NaN           NaN                 NaN                             NaN               NaN         NaN                    NaN                                           NaN                             NaN                NaN                         NaN  <span class="string">...</span>                NaN                NaN         NaN               NaN                                      NaN                  NaN                              NaN                                     NaN                    NaN                         4.0                        NaN                NaN                                    NaN           NaN                    NaN                                           NaN                 NaN                NaN                              NaN                                NaN                       NaN                      4.0             NaN                                5.0                  NaN                     NaN                           NaN                        NaN                NaN                   NaN                                    NaN                           3.0                        NaN                                NaN               NaN                          NaN                 NaN                                         NaN                      NaN              NaN</span><br><span class="line">6040                       NaN                   NaN                        NaN                 NaN                            NaN           NaN                                NaN                    NaN                    NaN                  5.0                       NaN         NaN                          NaN              NaN                                  NaN                    NaN                           5.0          NaN                             NaN                   NaN             NaN                                          NaN               NaN              NaN                   NaN                                             NaN           NaN                NaN        NaN                               NaN           5.0                 NaN                             NaN               NaN         NaN                    NaN                                           NaN                             NaN                NaN                         NaN  <span class="string">...</span>                NaN                NaN         NaN               NaN                                      NaN                  NaN                              NaN                                     NaN                    NaN                         NaN                        NaN                NaN                                    NaN           NaN                    NaN                                           NaN                 NaN                NaN                              NaN                                5.0                       NaN                      NaN             NaN                                NaN                  NaN                     NaN                           NaN                        4.0                NaN                   NaN                                    NaN                           NaN                        NaN                                NaN               NaN                          NaN                 NaN                                         NaN                      NaN              NaN</span><br><span class="line"></span><br><span class="line">[6040 rows x 3706 columns]</span><br></pre></td></tr></table></figure>

<h3 id="STEP-3-计算每两部电影之间的皮尔逊相关系数"><a href="#STEP-3-计算每两部电影之间的皮尔逊相关系数" class="headerlink" title="STEP 3 计算每两部电影之间的皮尔逊相关系数"></a>STEP 3 计算每两部电影之间的皮尔逊相关系数</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">ratings = pd<span class="selector-class">.read_csv</span>(<span class="string">&quot;/Users/movie/ratings.csv&quot;</span>)</span><br><span class="line">movies = pd<span class="selector-class">.read_csv</span>(<span class="string">&quot;/Users/movie/movies.csv&quot;</span>)</span><br><span class="line">result = pd<span class="selector-class">.merge</span>(ratings, movies)</span><br><span class="line">user_movie = result<span class="selector-class">.pivot_table</span>(index=<span class="string">&quot;用户id&quot;</span>,<span class="attribute">columns</span>=<span class="string">&quot;电影名&quot;</span>,values=<span class="string">&quot;评分&quot;</span>)</span><br><span class="line">corrMatrix = user_movie<span class="selector-class">.corr</span>(method=<span class="string">&quot;pearson&quot;</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(corrMatrix)</span></span></span><br></pre></td></tr></table></figure>
<p><strong>output:</strong></p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    电影名                                        $<span class="number">1</span>,<span class="number">000,000</span> Duck (<span class="number">1971</span>)  &#x27;Night Mother (<span class="number">1986</span>)  ...  Zeus and Roxanne (<span class="number">1997</span>)  eXistenZ (<span class="number">1999</span>)</span><br><span class="line">电影名                                                                                      ...                                          </span><br><span class="line">$<span class="number">1</span>,<span class="number">000,000</span> Duck (<span class="number">1971</span>)                                      <span class="number">1.000000</span>              <span class="number">0.522233</span>  ...                 <span class="number">0.944911</span>        -<span class="number">0.500000</span></span><br><span class="line">&#x27;Night Mother (<span class="number">1986</span>)                                        <span class="number">0.522233</span>              <span class="number">1.000000</span>  ...                      NaN         <span class="number">0.100372</span></span><br><span class="line">&#x27;Til There Was You (<span class="number">1997</span>)                                        NaN             -<span class="number">0.177705</span>  ...                 <span class="number">1.000000</span>         <span class="number">0.303731</span></span><br><span class="line">&#x27;burbs, The (<span class="number">1989</span>)                                          <span class="number">0.000000</span>              <span class="number">0.240000</span>  ...                 <span class="number">0.000000</span>         <span class="number">0.135172</span></span><br><span class="line">...And Justice for All (<span class="number">1979</span>)                               <span class="number">0.422577</span>              <span class="number">0.216272</span>  ...                      NaN        -<span class="number">0.024037</span></span><br><span class="line">...                                                              ...                   ...  ...                      ...              ...</span><br><span class="line">Zed &amp; Two Noughts, <span class="keyword">A</span> (<span class="number">1985</span>)                                -<span class="number">1.000000</span>             -<span class="number">0.492518</span>  ...                      NaN         <span class="number">0.296876</span></span><br><span class="line">Zero Effect (<span class="number">1998</span>)                                          <span class="number">0.000000</span>              <span class="number">0.082580</span>  ...                      NaN         <span class="number">0.392144</span></span><br><span class="line">Zero Kelvin (Kjrlighetens kjtere) (<span class="number">1995</span>)                     NaN                   NaN  ...                      NaN              NaN</span><br><span class="line">Zeus and Roxanne (<span class="number">1997</span>)                                     <span class="number">0.944911</span>                   NaN  ...                 <span class="number">1.000000</span>         <span class="number">0.408248</span></span><br><span class="line">eXistenZ (<span class="number">1999</span>)                                            -<span class="number">0.500000</span>              <span class="number">0.100372</span>  ...                 <span class="number">0.408248</span>         <span class="number">1.000000</span></span><br><span class="line"></span><br><span class="line">[<span class="number">3706</span> rows x <span class="number">3706</span> columns]</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="寻找目标用户感兴趣的电影"><a href="#寻找目标用户感兴趣的电影" class="headerlink" title="寻找目标用户感兴趣的电影"></a>寻找目标用户感兴趣的电影</h2><h3 id="STEP-1-获取目标用户评分过的电影数据"><a href="#STEP-1-获取目标用户评分过的电影数据" class="headerlink" title="STEP 1 获取目标用户评分过的电影数据"></a>STEP 1 获取目标用户评分过的电影数据</h3><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import pandas <span class="keyword">as</span> pd</span><br><span class="line">ratings = pd.read<span class="constructor">_csv(<span class="string">&quot;/Users/movie/ratings.csv&quot;</span>)</span></span><br><span class="line">movies = pd.read<span class="constructor">_csv(<span class="string">&quot;/Users/movie/movies.csv&quot;</span>)</span></span><br><span class="line">result = pd.merge(ratings, movies)</span><br><span class="line">user_movie = result.pivot<span class="constructor">_table(<span class="params">index</span>=<span class="string">&quot;用户id&quot;</span>,<span class="params">columns</span>=<span class="string">&quot;电影名&quot;</span>,<span class="params">values</span>=<span class="string">&quot;评分&quot;</span>)</span></span><br><span class="line">corrMatrix = user_movie.corr(<span class="keyword">method</span>=<span class="string">&quot;pearson&quot;</span>)</span><br><span class="line"># 获取「用户<span class="number">1</span>」评分过的电影数据</span><br><span class="line">user1Ratings = user_movie.loc<span class="literal">[<span class="number">1</span>]</span>.dropna<span class="literal">()</span></span><br><span class="line">print(user1Ratings)</span><br></pre></td></tr></table></figure>
<p><strong>output:</strong></p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">电影名</span><br><span class="line">Airplane! (<span class="number">1980</span>)                                          <span class="number">4.0</span></span><br><span class="line">Aladdin (<span class="number">1992</span>)                                            <span class="number">4.0</span></span><br><span class="line">Antz (<span class="number">1998</span>)                                               <span class="number">4.0</span></span><br><span class="line">Apollo <span class="number">13</span> (<span class="number">1995</span>)                                          <span class="number">5.0</span></span><br><span class="line">Awakenings (<span class="number">1990</span>)                                         <span class="number">5.0</span></span><br><span class="line">Back to the Future (<span class="number">1985</span>)                                 <span class="number">5.0</span></span><br><span class="line">Bambi (<span class="number">1942</span>)                                              <span class="number">4.0</span></span><br><span class="line">Beauty and the Beast (<span class="number">1991</span>)                               <span class="number">5.0</span></span><br><span class="line">Ben-Hur (<span class="number">1959</span>)                                            <span class="number">5.0</span></span><br><span class="line">Big (<span class="number">1988</span>)                                                <span class="number">4.0</span></span><br><span class="line">Bug&#x27;s Life, A (<span class="number">1998</span>)                                      5.0</span><br><span class="line">Christmas Story, A (<span class="number">1983</span>)                                 5.0</span><br><span class="line">Cinderella (<span class="number">1950</span>)                                         5.0</span><br><span class="line">Close Shave, A (<span class="number">1995</span>)                                     3.0</span><br><span class="line">Dead Poets Society (<span class="number">1989</span>)                                 4.0</span><br><span class="line">Driving Miss Daisy (<span class="number">1989</span>)                                 4.0</span><br><span class="line">Dumbo (<span class="number">1941</span>)                                              5.0</span><br><span class="line">E.T. the Extra-Terrestrial (<span class="number">1982</span>)                         4.0</span><br><span class="line">Erin Brockovich (<span class="number">2000</span>)                                    4.0</span><br><span class="line">Fargo (<span class="number">1996</span>)                                              4.0</span><br><span class="line">Ferris Bueller&#x27;s Day Off (<span class="number">1986</span>)                           <span class="number">4.0</span></span><br><span class="line">Gigi (<span class="number">1958</span>)                                               <span class="number">4.0</span></span><br><span class="line">Girl, Interrupted (<span class="number">1999</span>)                                  <span class="number">4.0</span></span><br><span class="line">Hercules (<span class="number">1997</span>)                                           <span class="number">4.0</span></span><br><span class="line">Hunchback of Notre Dame, The (<span class="number">1996</span>)                       <span class="number">4.0</span></span><br><span class="line">James and the Giant Peach (<span class="number">1996</span>)                          <span class="number">3.0</span></span><br><span class="line">Last Days of Disco, The (<span class="number">1998</span>)                            <span class="number">5.0</span></span><br><span class="line">Mary Poppins (<span class="number">1964</span>)                                       <span class="number">5.0</span></span><br><span class="line">Meet Joe Black (<span class="number">1998</span>)                                     <span class="number">3.0</span></span><br><span class="line">Miracle on <span class="number">34</span>th Street (<span class="number">1947</span>)                             <span class="number">4.0</span></span><br><span class="line">Mulan (<span class="number">1998</span>)                                              <span class="number">4.0</span></span><br><span class="line">My Fair Lady (<span class="number">1964</span>)                                       <span class="number">3.0</span></span><br><span class="line">One Flew Over the Cuckoo&#x27;s Nest (<span class="number">1975</span>)                    5.0</span><br><span class="line">Pleasantville (<span class="number">1998</span>)                                      3.0</span><br><span class="line">Pocahontas (<span class="number">1995</span>)                                         5.0</span><br><span class="line">Ponette (<span class="number">1996</span>)                                            4.0</span><br><span class="line">Princess Bride, The (<span class="number">1987</span>)                                3.0</span><br><span class="line">Rain Man (<span class="number">1988</span>)                                           5.0</span><br><span class="line">Run Lola Run (Lola rennt) (<span class="number">1998</span>)                          4.0</span><br><span class="line">Saving Private Ryan (<span class="number">1998</span>)                                5.0</span><br><span class="line">Schindler&#x27;s List (<span class="number">1993</span>)                                   <span class="number">5.0</span></span><br><span class="line">Secret Garden, The (<span class="number">1993</span>)                                 <span class="number">4.0</span></span><br><span class="line">Sixth Sense, The (<span class="number">1999</span>)                                   <span class="number">4.0</span></span><br><span class="line">Snow White and the Seven Dwarfs (<span class="number">1937</span>)                    <span class="number">4.0</span></span><br><span class="line">Sound of Music, The (<span class="number">1965</span>)                                <span class="number">5.0</span></span><br><span class="line">Star Wars: Episode IV - A New Hope (<span class="number">1977</span>)                 <span class="number">4.0</span></span><br><span class="line">Tarzan (<span class="number">1999</span>)                                             <span class="number">3.0</span></span><br><span class="line">Titanic (<span class="number">1997</span>)                                            <span class="number">4.0</span></span><br><span class="line">To Kill a Mockingbird (<span class="number">1962</span>)                              <span class="number">4.0</span></span><br><span class="line">Toy Story (<span class="number">1995</span>)                                          <span class="number">5.0</span></span><br><span class="line">Toy Story <span class="number">2</span> (<span class="number">1999</span>)                                        <span class="number">4.0</span></span><br><span class="line">Wallace <span class="meta">&amp; Gromit: The Best of Aardman Animation (1996)    3.0</span></span><br><span class="line">Wizard of Oz, The (<span class="number">1939</span>)                                  <span class="number">4.0</span></span><br><span class="line">Name: <span class="number">1</span>, dtype: float64</span><br></pre></td></tr></table></figure>
<blockquote>
<p>它的索引（index）是电影名称，值（values）则是对应的评分。</p>
</blockquote>
<h3 id="STEP-2-获取电影之间的皮尔逊系数"><a href="#STEP-2-获取电影之间的皮尔逊系数" class="headerlink" title="STEP 2 获取电影之间的皮尔逊系数"></a>STEP 2 获取电影之间的皮尔逊系数</h3><p>具体步骤如下：</p>
<ol>
<li><p>在corrMatrix中，先通过列索引和变量name来获取「用户1」评分过电影与所有电影之间的皮尔逊相关系数；</p>
</li>
<li><p>再使用drop()函数，并将参数index&#x3D;name传入到该函数中，删除「用户1」评分过的电影的行数据。</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">ratings = pd.read_csv(&quot;/Users/movie/ratings.csv&quot;)</span><br><span class="line">movies = pd.read_csv(&quot;/Users/movie/movies.csv&quot;)</span><br><span class="line">result = pd.merge(ratings,movies)</span><br><span class="line">user_movie = result.pivot_table(<span class="keyword">index</span>=&quot;用户id&quot;,<span class="keyword">columns</span>=&quot;电影名&quot;,<span class="keyword">values</span>=&quot;评分&quot;)</span><br><span class="line">corrMatrix = user_movie.corr(<span class="keyword">method</span>=&quot;pearson&quot;)</span><br><span class="line">userRatings = user_movie.loc[<span class="number">1</span>].dropna()</span><br><span class="line"><span class="type">name</span> = userRatings1.<span class="keyword">index</span></span><br><span class="line">score = userRatings1.<span class="keyword">values</span></span><br><span class="line"># 获取电影之间的皮尔逊相关系数</span><br><span class="line">simsMovie = corrMatrix[<span class="type">name</span>].<span class="keyword">drop</span>(<span class="keyword">index</span>=<span class="type">name</span>)</span><br><span class="line">print(simsMovie)</span><br></pre></td></tr></table></figure>
<p><strong>output:</strong></p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">电影名                                        Airplane! (<span class="number">1980</span>)  Aladdin (<span class="number">1992</span>)  Antz (<span class="number">1998</span>)  Apollo <span class="number">13</span> (<span class="number">1995</span>)  Awakenings (<span class="number">1990</span>)  Back to the Future (<span class="number">1985</span>)  Bambi (<span class="number">1942</span>)  Beauty and the Beast (<span class="number">1991</span>)  Ben-Hur (<span class="number">1959</span>)  Big (<span class="number">1988</span>)  Bug&#x27;s Life, <span class="keyword">A</span> (<span class="number">1998</span>)  Christmas Story, <span class="keyword">A</span> (<span class="number">1983</span>)  Cinderella (<span class="number">1950</span>)  Close Shave, <span class="keyword">A</span> (<span class="number">1995</span>)  Dead Poets Society (<span class="number">1989</span>)  Driving Miss Daisy (<span class="number">1989</span>)  Dumbo (<span class="number">1941</span>)  E.T. the Extra-Terrestrial (<span class="number">1982</span>)  Erin Brockovich (<span class="number">2000</span>)  Fargo (<span class="number">1996</span>)  Ferris Bueller&#x27;s Day Off (<span class="number">1986</span>)  Gigi (<span class="number">1958</span>)  Girl, Interrupted (<span class="number">1999</span>)  Hercules (<span class="number">1997</span>)  Hunchback of Notre Dame, The (<span class="number">1996</span>)  James and the Giant Peach (<span class="number">1996</span>)  Last Days of Disco, The (<span class="number">1998</span>)  Mary Poppins (<span class="number">1964</span>)  Meet Joe Black (<span class="number">1998</span>)  Miracle on <span class="number">34</span>th Street (<span class="number">1947</span>)  Mulan (<span class="number">1998</span>)  My Fair Lady (<span class="number">1964</span>)  One Flew Over the Cuckoo&#x27;s Nest (<span class="number">1975</span>)  Pleasantville (<span class="number">1998</span>)  Pocahontas (<span class="number">1995</span>)  Ponette (<span class="number">1996</span>)  Princess Bride, The (<span class="number">1987</span>)  Rain Man (<span class="number">1988</span>)  Run Lola Run (Lola rennt) (<span class="number">1998</span>)  Saving Private Ryan (<span class="number">1998</span>)  Schindler&#x27;s List (<span class="number">1993</span>)  Secret Garden, The (<span class="number">1993</span>)  Sixth Sense, The (<span class="number">1999</span>)  Snow White and the Seven Dwarfs (<span class="number">1937</span>)  Sound of Music, The (<span class="number">1965</span>)  Star Wars: Episode IV - <span class="keyword">A</span> New Hope (<span class="number">1977</span>)  Tarzan (<span class="number">1999</span>)  Titanic (<span class="number">1997</span>)  To Kill a Mockingbird (<span class="number">1962</span>)  Toy Story (<span class="number">1995</span>)  Toy Story <span class="number">2</span> (<span class="number">1999</span>)  Wallace &amp; Gromit: The Best of Aardman Animation (<span class="number">1996</span>)  Wizard of Oz, The (<span class="number">1939</span>)</span><br><span class="line">电影名                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               </span><br><span class="line">$<span class="number">1</span>,<span class="number">000,000</span> Duck (<span class="number">1971</span>)                                <span class="number">0.054737</span>       -<span class="number">0.032466</span>    -<span class="number">0.316541</span>         -<span class="number">0.368230</span>          -<span class="number">0.027160</span>                   <span class="number">0.237539</span>      <span class="number">0.000000</span>                    -<span class="number">0.053168</span>       -<span class="number">0.127526</span>    <span class="number">0.000000</span>              <span class="number">0.018999</span>                   <span class="number">0.220641</span>           <span class="number">0.182432</span>               <span class="number">0.538816</span>                   <span class="number">0.297135</span>                   <span class="number">0.101067</span>     -<span class="number">0.229696</span>                          -<span class="number">0.067046</span>                <span class="number">0.012792</span>     -<span class="number">0.063518</span>                         <span class="number">0.201773</span>     <span class="number">0.359211</span>                  <span class="number">0.542326</span>         <span class="number">0.249268</span>                             <span class="number">0.014781</span>                          <span class="number">0.032181</span>                             NaN             <span class="number">0.120176</span>              -<span class="number">0.542649</span>                       <span class="number">0.580292</span>      <span class="number">0.148586</span>             <span class="number">0.089286</span>                               -<span class="number">0.178105</span>             -<span class="number">0.133094</span>          -<span class="number">0.100789</span>             NaN                   -<span class="number">0.174097</span>         <span class="number">0.413399</span>                         -<span class="number">0.280140</span>                    <span class="number">0.069881</span>                -<span class="number">0.158052</span>                   <span class="number">0.800000</span>                 <span class="number">0.254024</span>                               -<span class="number">0.265401</span>                   -<span class="number">0.060480</span>                                   <span class="number">0.090778</span>      -<span class="number">0.291778</span>        <span class="number">0.135097</span>                     -<span class="number">0.083914</span>         -<span class="number">0.132004</span>           -<span class="number">0.082489</span>                                           <span class="number">0.242536</span>                      -<span class="number">0.248511</span></span><br><span class="line">&#x27;Night Mother (<span class="number">1986</span>)                                 -<span class="number">0.007878</span>        <span class="number">0.160995</span>     <span class="number">0.042725</span>          <span class="number">0.126643</span>           <span class="number">0.629205</span>                   <span class="number">0.307368</span>      <span class="number">0.345817</span>                     <span class="number">0.249723</span>        <span class="number">0.403341</span>    <span class="number">0.298223</span>              <span class="number">0.409093</span>                  -<span class="number">0.152498</span>           <span class="number">0.369695</span>               <span class="number">0.218750</span>                   <span class="number">0.420963</span>                   <span class="number">0.496077</span>      <span class="number">0.503233</span>                           <span class="number">0.237391</span>                <span class="number">0.237467</span>     -<span class="number">0.033370</span>                         <span class="number">0.164273</span>     <span class="number">0.050157</span>                  <span class="number">0.497826</span>        -<span class="number">0.096352</span>                            -<span class="number">0.180884</span>                         -<span class="number">0.165395</span>                        <span class="number">0.018990</span>             <span class="number">0.473152</span>               <span class="number">0.000000</span>                       <span class="number">0.180938</span>      <span class="number">0.310498</span>             <span class="number">0.250153</span>                                <span class="number">0.259244</span>              <span class="number">0.490511</span>           <span class="number">0.211504</span>        <span class="number">0.043980</span>                    <span class="number">0.128215</span>         <span class="number">0.355355</span>                         -<span class="number">0.187101</span>                    <span class="number">0.167915</span>                 <span class="number">0.388257</span>                  -<span class="number">0.367607</span>                 <span class="number">0.224463</span>                                <span class="number">0.169619</span>                    <span class="number">0.311404</span>                                   <span class="number">0.104399</span>      -<span class="number">0.198971</span>        <span class="number">0.419943</span>                      <span class="number">0.116125</span>          <span class="number">0.261793</span>            <span class="number">0.241805</span>                                           <span class="number">0.164069</span>                       <span class="number">0.174007</span></span><br><span class="line">&#x27;Til There Was You (<span class="number">1997</span>)                             <span class="number">0.377668</span>        <span class="number">0.157698</span>     <span class="number">0.124154</span>         -<span class="number">0.359122</span>           <span class="number">0.381536</span>                  -<span class="number">0.010990</span>      <span class="number">0.268328</span>                     <span class="number">0.025905</span>        <span class="number">0.267261</span>    <span class="number">0.167105</span>              <span class="number">0.527759</span>                  -<span class="number">0.051458</span>           <span class="number">0.243383</span>               <span class="number">0.221404</span>                   <span class="number">0.122058</span>                   <span class="number">0.066815</span>      <span class="number">0.032573</span>                          -<span class="number">0.041158</span>                <span class="number">0.287266</span>     -<span class="number">0.080653</span>                         <span class="number">0.160298</span>     <span class="number">0.383065</span>                  <span class="number">0.660241</span>         <span class="number">0.372735</span>                             <span class="number">0.458040</span>                          <span class="number">0.745434</span>                        <span class="number">0.251754</span>             <span class="number">0.157031</span>               <span class="number">0.356278</span>                       <span class="number">0.006268</span>      <span class="number">0.213945</span>             <span class="number">0.408638</span>                                <span class="number">0.238003</span>              <span class="number">0.460253</span>           <span class="number">0.172334</span>        <span class="number">1.000000</span>                    <span class="number">0.232456</span>         <span class="number">0.054741</span>                          <span class="number">0.124154</span>                    <span class="number">0.152794</span>                 <span class="number">0.396992</span>                   <span class="number">0.440981</span>                 <span class="number">0.257949</span>                                <span class="number">0.155317</span>                    <span class="number">0.267827</span>                                   <span class="number">0.024925</span>       <span class="number">0.199637</span>        <span class="number">0.065606</span>                      <span class="number">0.118913</span>          <span class="number">0.156468</span>            <span class="number">0.129202</span>                                          -<span class="number">0.577350</span>                       <span class="number">0.151489</span></span><br><span class="line">&#x27;burbs, The (<span class="number">1989</span>)                                   -<span class="number">0.003268</span>        <span class="number">0.016217</span>     <span class="number">0.330447</span>          <span class="number">0.072225</span>           <span class="number">0.202994</span>                   <span class="number">0.145238</span>      <span class="number">0.076393</span>                    -<span class="number">0.005729</span>        <span class="number">0.274544</span>    <span class="number">0.114116</span>              <span class="number">0.067363</span>                   <span class="number">0.001190</span>           <span class="number">0.120351</span>               <span class="number">0.292571</span>                   <span class="number">0.102975</span>                  -<span class="number">0.020791</span>     -<span class="number">0.038648</span>                           <span class="number">0.031675</span>                <span class="number">0.063019</span>      <span class="number">0.078356</span>                         <span class="number">0.147598</span>     <span class="number">0.014295</span>                 -<span class="number">0.034993</span>         <span class="number">0.142947</span>                             <span class="number">0.104168</span>                          <span class="number">0.275377</span>                        <span class="number">0.053868</span>             <span class="number">0.066325</span>               <span class="number">0.378891</span>                      -<span class="number">0.241724</span>     -<span class="number">0.105093</span>            -<span class="number">0.102326</span>                                <span class="number">0.081051</span>              <span class="number">0.137438</span>           <span class="number">0.247312</span>       -<span class="number">0.577350</span>                    <span class="number">0.142830</span>         <span class="number">0.118754</span>                          <span class="number">0.039179</span>                    <span class="number">0.049999</span>                 <span class="number">0.036430</span>                  -<span class="number">0.164846</span>                 <span class="number">0.215498</span>                                <span class="number">0.133055</span>                   -<span class="number">0.081020</span>                                   <span class="number">0.107898</span>       <span class="number">0.079591</span>        <span class="number">0.090697</span>                      <span class="number">0.002816</span>         -<span class="number">0.077789</span>            <span class="number">0.059452</span>                                           <span class="number">0.215824</span>                       <span class="number">0.072998</span></span><br><span class="line">...And Justice for All (<span class="number">1979</span>)                        -<span class="number">0.070501</span>       -<span class="number">0.113017</span>     <span class="number">0.295354</span>          <span class="number">0.299953</span>           <span class="number">0.245965</span>                   <span class="number">0.116745</span>      <span class="number">0.209522</span>                     <span class="number">0.212804</span>        <span class="number">0.284993</span>    <span class="number">0.228436</span>              <span class="number">0.251420</span>                   <span class="number">0.088363</span>           <span class="number">0.239395</span>               <span class="number">0.077742</span>                   <span class="number">0.384356</span>                   <span class="number">0.326723</span>      <span class="number">0.228026</span>                           <span class="number">0.236053</span>                <span class="number">0.105845</span>      <span class="number">0.120946</span>                         <span class="number">0.236476</span>    -<span class="number">0.365282</span>                  <span class="number">0.294060</span>         <span class="number">0.117869</span>                             <span class="number">0.324443</span>                          <span class="number">0.153715</span>                        <span class="number">0.185604</span>             <span class="number">0.339427</span>               <span class="number">0.284561</span>                       <span class="number">0.291293</span>     -<span class="number">0.055312</span>             <span class="number">0.142928</span>                                <span class="number">0.198564</span>              <span class="number">0.294805</span>          -<span class="number">0.300401</span>       -<span class="number">1.000000</span>                    <span class="number">0.173756</span>         <span class="number">0.266991</span>                          <span class="number">0.247223</span>                    <span class="number">0.248957</span>                 <span class="number">0.171189</span>                   <span class="number">0.198015</span>                 <span class="number">0.110130</span>                                <span class="number">0.210582</span>                    <span class="number">0.307839</span>                                   <span class="number">0.020055</span>       <span class="number">0.049976</span>        <span class="number">0.221394</span>                      <span class="number">0.100183</span>          <span class="number">0.040958</span>           -<span class="number">0.001823</span>                                           <span class="number">0.258436</span>                       <span class="number">0.089020</span></span><br><span class="line">...                                                        ...             ...          ...               ...                ...                        ...           ...                          ...             ...         ...                   ...                        ...                ...                    ...                        ...                        ...           ...                                ...                     ...           ...                              ...          ...                       ...              ...                                  ...                               ...                             ...                  ...                    ...                            ...           ...                  ...                                     ...                   ...                ...             ...                         ...              ...                               ...                         ...                      ...                        ...                      ...                                     ...                         ...                                        ...            ...             ...                           ...               ...                 ...                                                ...                            ...</span><br><span class="line">Zed &amp; Two Noughts, <span class="keyword">A</span> (<span class="number">1985</span>)                           <span class="number">0.209077</span>       -<span class="number">0.303239</span>    -<span class="number">0.348896</span>          <span class="number">0.124035</span>          -<span class="number">0.255331</span>                   <span class="number">0.280745</span>      <span class="number">0.390199</span>                     <span class="number">0.361158</span>        <span class="number">0.283069</span>    <span class="number">0.148475</span>             -<span class="number">0.131034</span>                  -<span class="number">0.423559</span>           <span class="number">0.179605</span>              -<span class="number">0.142857</span>                  -<span class="number">0.142314</span>                   <span class="number">0.124035</span>     -<span class="number">0.208514</span>                          -<span class="number">0.297329</span>               -<span class="number">0.726372</span>      <span class="number">0.221572</span>                         <span class="number">0.199595</span>     <span class="number">0.000000</span>                  <span class="number">0.082512</span>         <span class="number">0.000000</span>                             <span class="number">0.000000</span>                          <span class="number">0.151620</span>                        <span class="number">0.553041</span>            -<span class="number">0.328196</span>              -<span class="number">0.928571</span>                       <span class="number">0.536142</span>      <span class="number">0.000000</span>            -<span class="number">0.281425</span>                               -<span class="number">0.225518</span>             -<span class="number">0.304290</span>           <span class="number">1.000000</span>             NaN                    <span class="number">0.162399</span>         <span class="number">0.076522</span>                          <span class="number">0.377252</span>                   -<span class="number">0.521874</span>                 <span class="number">0.000000</span>                   <span class="number">0.000000</span>                -<span class="number">0.172568</span>                               -<span class="number">0.028408</span>                   -<span class="number">0.050422</span>                                   <span class="number">0.054670</span>       <span class="number">0.500000</span>       -<span class="number">0.447214</span>                     -<span class="number">0.142431</span>         -<span class="number">0.111738</span>           -<span class="number">0.074279</span>                                           <span class="number">0.537836</span>                       <span class="number">0.631811</span></span><br><span class="line">Zero Effect (<span class="number">1998</span>)                                    <span class="number">0.040555</span>        <span class="number">0.032769</span>     <span class="number">0.131565</span>          <span class="number">0.109904</span>           <span class="number">0.223413</span>                   <span class="number">0.090545</span>      <span class="number">0.119990</span>                     <span class="number">0.189378</span>        <span class="number">0.196923</span>    <span class="number">0.113753</span>              <span class="number">0.087173</span>                   <span class="number">0.249554</span>           <span class="number">0.223627</span>               <span class="number">0.215563</span>                   <span class="number">0.106865</span>                   <span class="number">0.426721</span>      <span class="number">0.160662</span>                           <span class="number">0.019249</span>                <span class="number">0.003603</span>      <span class="number">0.273941</span>                         <span class="number">0.184044</span>     <span class="number">0.019863</span>                  <span class="number">0.012941</span>         <span class="number">0.336076</span>                             <span class="number">0.070590</span>                          <span class="number">0.278516</span>                        <span class="number">0.325105</span>             <span class="number">0.129962</span>               <span class="number">0.262521</span>                       <span class="number">0.213965</span>      <span class="number">0.451734</span>             <span class="number">0.428692</span>                                <span class="number">0.108720</span>              <span class="number">0.217341</span>           <span class="number">0.124379</span>       -<span class="number">0.093883</span>                    <span class="number">0.261165</span>         <span class="number">0.099155</span>                          <span class="number">0.277070</span>                    <span class="number">0.023844</span>                 <span class="number">0.230472</span>                   <span class="number">0.069269</span>                 <span class="number">0.089268</span>                                <span class="number">0.048507</span>                    <span class="number">0.125264</span>                                   <span class="number">0.187331</span>       <span class="number">0.228165</span>        <span class="number">0.048223</span>                      <span class="number">0.409468</span>          <span class="number">0.122577</span>            <span class="number">0.155770</span>                                           <span class="number">0.124566</span>                       <span class="number">0.134756</span></span><br><span class="line">Zero Kelvin (Kj�rlighetens kj�tere) (<span class="number">1995</span>)          <span class="number">1.000000</span>             NaN          NaN               NaN                NaN                   <span class="number">1.000000</span>           NaN                          NaN             NaN         NaN                   NaN                        NaN                NaN                    NaN                        NaN                        NaN           NaN                                NaN                     NaN      <span class="number">1.000000</span>                              NaN          NaN                       NaN              NaN                                  NaN                               NaN                             NaN                  NaN                    NaN                            NaN           NaN                  NaN                                     NaN                   NaN                NaN             NaN                         NaN              NaN                          <span class="number">1.000000</span>                         NaN                 <span class="number">1.000000</span>                        NaN                 <span class="number">1.000000</span>                                     NaN                         NaN                                        NaN            NaN             NaN                           NaN               NaN                 NaN                                                NaN                            NaN</span><br><span class="line">Zeus and Roxanne (<span class="number">1997</span>)                              -<span class="number">0.279210</span>        <span class="number">0.452496</span>     <span class="number">0.322955</span>         -<span class="number">0.178017</span>           <span class="number">0.538816</span>                   <span class="number">0.517876</span>      <span class="number">0.884112</span>                     <span class="number">0.626203</span>        <span class="number">0.375000</span>    <span class="number">0.712832</span>              <span class="number">0.775798</span>                   <span class="number">0.437443</span>           <span class="number">0.822145</span>               <span class="number">0.408248</span>                   <span class="number">0.294963</span>                   <span class="number">0.750000</span>      <span class="number">0.675077</span>                           <span class="number">0.653638</span>                <span class="number">0.562418</span>     -<span class="number">0.303488</span>                        -<span class="number">0.310706</span>    -<span class="number">1.000000</span>                  <span class="number">0.685994</span>         <span class="number">0.268095</span>                             <span class="number">0.894427</span>                          <span class="number">0.333333</span>                             NaN             <span class="number">0.420422</span>               <span class="number">0.058824</span>                       <span class="number">0.534522</span>      <span class="number">0.591864</span>             <span class="number">0.196419</span>                                <span class="number">0.000000</span>              <span class="number">0.336199</span>           <span class="number">0.484156</span>             NaN                   -<span class="number">0.158888</span>         <span class="number">0.000000</span>                         -<span class="number">0.303642</span>                   -<span class="number">0.048552</span>                 <span class="number">0.342864</span>                   <span class="number">0.411765</span>                 <span class="number">0.164570</span>                                <span class="number">0.767606</span>                    <span class="number">0.387057</span>                                  -<span class="number">0.061017</span>       <span class="number">0.560976</span>        <span class="number">0.703781</span>                     -<span class="number">0.174928</span>          <span class="number">0.431794</span>            <span class="number">0.244505</span>                                           <span class="number">0.904534</span>                      -<span class="number">0.133476</span></span><br><span class="line">eXistenZ (<span class="number">1999</span>)                                       <span class="number">0.088166</span>        <span class="number">0.037363</span>     <span class="number">0.224321</span>         -<span class="number">0.023596</span>           <span class="number">0.066908</span>                   <span class="number">0.047448</span>     -<span class="number">0.016583</span>                     <span class="number">0.174520</span>        <span class="number">0.024723</span>    <span class="number">0.137996</span>              <span class="number">0.060583</span>                   <span class="number">0.146541</span>          -<span class="number">0.021970</span>               <span class="number">0.008978</span>                  -<span class="number">0.055874</span>                   <span class="number">0.129842</span>      <span class="number">0.048516</span>                           <span class="number">0.117567</span>                <span class="number">0.045495</span>      <span class="number">0.038151</span>                         <span class="number">0.120339</span>    -<span class="number">0.013063</span>                  <span class="number">0.134142</span>         <span class="number">0.174065</span>                            -<span class="number">0.066347</span>                          <span class="number">0.302730</span>                        <span class="number">0.246827</span>             <span class="number">0.197193</span>               <span class="number">0.291999</span>                       <span class="number">0.134131</span>     -<span class="number">0.052149</span>            -<span class="number">0.317301</span>                                <span class="number">0.093265</span>              <span class="number">0.087943</span>           <span class="number">0.189592</span>        <span class="number">0.064282</span>                    <span class="number">0.184464</span>         <span class="number">0.250328</span>                          <span class="number">0.107763</span>                    <span class="number">0.053403</span>                 <span class="number">0.070419</span>                   <span class="number">0.103280</span>                 <span class="number">0.062798</span>                                <span class="number">0.182340</span>                    <span class="number">0.162987</span>                                   <span class="number">0.055791</span>       <span class="number">0.034195</span>       -<span class="number">0.059455</span>                      <span class="number">0.173017</span>          <span class="number">0.078597</span>            <span class="number">0.065930</span>                                          -<span class="number">0.078312</span>                       <span class="number">0.144146</span></span><br><span class="line"></span><br><span class="line">[<span class="number">3653</span> rows x <span class="number">53</span> columns]</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="STEP-3-计算分数与皮尔逊相关系数之间的乘积"><a href="#STEP-3-计算分数与皮尔逊相关系数之间的乘积" class="headerlink" title="STEP 3 计算分数与皮尔逊相关系数之间的乘积"></a>STEP 3 计算分数与皮尔逊相关系数之间的乘积</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">ratings = pd<span class="selector-class">.read_csv</span>(<span class="string">&quot;/Users/movie/ratings.csv&quot;</span>)</span><br><span class="line">movies = pd<span class="selector-class">.read_csv</span>(<span class="string">&quot;/Users/movie/movies.csv&quot;</span>)</span><br><span class="line">result = pd<span class="selector-class">.merge</span>(ratings,movies)</span><br><span class="line">user_movie = result<span class="selector-class">.pivot_table</span>(index=<span class="string">&quot;用户id&quot;</span>,<span class="attribute">columns</span>=<span class="string">&quot;电影名&quot;</span>,values=<span class="string">&quot;评分&quot;</span>)</span><br><span class="line">corrMatrix = user_movie<span class="selector-class">.corr</span>(method=<span class="string">&quot;pearson&quot;</span>)</span><br><span class="line">userRatings = user_movie<span class="selector-class">.loc</span><span class="selector-attr">[1]</span><span class="selector-class">.dropna</span>()</span><br><span class="line">name = userRatings1<span class="selector-class">.index</span></span><br><span class="line">score = userRatings1<span class="selector-class">.values</span></span><br><span class="line">simsMovie = corrMatrix<span class="selector-attr">[name]</span><span class="selector-class">.drop</span>(index=name)</span><br><span class="line">prod = score*simsMovie</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(prod)</span></span></span><br></pre></td></tr></table></figure>

<p><strong>output:</strong></p>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">电影名                                        Airplane! (<span class="number">1980</span>)  Aladdin (<span class="number">1992</span>)  Antz (<span class="number">1998</span>)  Apollo <span class="number">13</span> (<span class="number">1995</span>)  Awakenings (<span class="number">1990</span>)  Back to the Future (<span class="number">1985</span>)  Bambi (<span class="number">1942</span>)  Beauty and the Beast (<span class="number">1991</span>)  Ben-Hur (<span class="number">1959</span>)  Big (<span class="number">1988</span>)  Bug&#x27;s Life, <span class="keyword">A</span> (<span class="number">1998</span>)  Christmas Story, <span class="keyword">A</span> (<span class="number">1983</span>)  Cinderella (<span class="number">1950</span>)  Close Shave, <span class="keyword">A</span> (<span class="number">1995</span>)  Dead Poets Society (<span class="number">1989</span>)  Driving Miss Daisy (<span class="number">1989</span>)  Dumbo (<span class="number">1941</span>)  E.T. the Extra-Terrestrial (<span class="number">1982</span>)  Erin Brockovich (<span class="number">2000</span>)  Fargo (<span class="number">1996</span>)  Ferris Bueller&#x27;s Day Off (<span class="number">1986</span>)  Gigi (<span class="number">1958</span>)  Girl, Interrupted (<span class="number">1999</span>)  Hercules (<span class="number">1997</span>)  Hunchback of Notre Dame, The (<span class="number">1996</span>)  James and the Giant Peach (<span class="number">1996</span>)  Last Days of Disco, The (<span class="number">1998</span>)  Mary Poppins (<span class="number">1964</span>)  Meet Joe Black (<span class="number">1998</span>)  Miracle on <span class="number">34</span>th Street (<span class="number">1947</span>)  Mulan (<span class="number">1998</span>)  My Fair Lady (<span class="number">1964</span>)  One Flew Over the Cuckoo&#x27;s Nest (<span class="number">1975</span>)  Pleasantville (<span class="number">1998</span>)  Pocahontas (<span class="number">1995</span>)  Ponette (<span class="number">1996</span>)  Princess Bride, The (<span class="number">1987</span>)  Rain Man (<span class="number">1988</span>)  Run Lola Run (Lola rennt) (<span class="number">1998</span>)  Saving Private Ryan (<span class="number">1998</span>)  Schindler&#x27;s List (<span class="number">1993</span>)  Secret Garden, The (<span class="number">1993</span>)  Sixth Sense, The (<span class="number">1999</span>)  Snow White and the Seven Dwarfs (<span class="number">1937</span>)  Sound of Music, The (<span class="number">1965</span>)  Star Wars: Episode IV - <span class="keyword">A</span> New Hope (<span class="number">1977</span>)  Tarzan (<span class="number">1999</span>)  Titanic (<span class="number">1997</span>)  To Kill a Mockingbird (<span class="number">1962</span>)  Toy Story (<span class="number">1995</span>)  Toy Story <span class="number">2</span> (<span class="number">1999</span>)  Wallace &amp; Gromit: The Best of Aardman Animation (<span class="number">1996</span>)  Wizard of Oz, The (<span class="number">1939</span>)</span><br><span class="line">电影名                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               </span><br><span class="line">$<span class="number">1</span>,<span class="number">000,000</span> Duck (<span class="number">1971</span>)                                <span class="number">0.218949</span>       -<span class="number">0.129862</span>    -<span class="number">1.266163</span>         -<span class="number">1.841149</span>          -<span class="number">0.135798</span>                   <span class="number">1.187695</span>      <span class="number">0.000000</span>                    -<span class="number">0.265841</span>       -<span class="number">0.637630</span>    <span class="number">0.000000</span>              <span class="number">0.094993</span>                   <span class="number">1.103205</span>           <span class="number">0.912159</span>               <span class="number">1.616448</span>                   <span class="number">1.188541</span>                   <span class="number">0.404267</span>     -<span class="number">1.148479</span>                          -<span class="number">0.268182</span>                <span class="number">0.051169</span>     -<span class="number">0.254072</span>                         <span class="number">0.807093</span>     <span class="number">1.436842</span>                  <span class="number">2.169305</span>         <span class="number">0.997072</span>                             <span class="number">0.059125</span>                          <span class="number">0.096543</span>                             NaN             <span class="number">0.600881</span>              -<span class="number">1.627947</span>                       <span class="number">2.321168</span>      <span class="number">0.594346</span>             <span class="number">0.267857</span>                               -<span class="number">0.890525</span>             -<span class="number">0.399281</span>          -<span class="number">0.503946</span>             NaN                   -<span class="number">0.522290</span>         <span class="number">2.066993</span>                         -<span class="number">1.120559</span>                    <span class="number">0.349405</span>                -<span class="number">0.790258</span>                   <span class="number">3.200000</span>                 <span class="number">1.016098</span>                               -<span class="number">1.061604</span>                   -<span class="number">0.302399</span>                                   <span class="number">0.363112</span>      -<span class="number">0.875335</span>        <span class="number">0.540387</span>                     -<span class="number">0.335654</span>         -<span class="number">0.660021</span>           -<span class="number">0.329956</span>                                           <span class="number">0.727607</span>                      -<span class="number">0.994045</span></span><br><span class="line">&#x27;Night Mother (<span class="number">1986</span>)                                 -<span class="number">0.031512</span>        <span class="number">0.643980</span>     <span class="number">0.170899</span>          <span class="number">0.633214</span>           <span class="number">3.146025</span>                   <span class="number">1.536842</span>      <span class="number">1.383267</span>                     <span class="number">1.248615</span>        <span class="number">2.016706</span>    <span class="number">1.192894</span>              <span class="number">2.045464</span>                  -<span class="number">0.762490</span>           <span class="number">1.848476</span>               <span class="number">0.656250</span>                   <span class="number">1.683852</span>                   <span class="number">1.984307</span>      <span class="number">2.516164</span>                           <span class="number">0.949563</span>                <span class="number">0.949868</span>     -<span class="number">0.133482</span>                         <span class="number">0.657092</span>     <span class="number">0.200628</span>                  <span class="number">1.991306</span>        -<span class="number">0.385408</span>                            -<span class="number">0.723535</span>                         -<span class="number">0.496186</span>                        <span class="number">0.094950</span>             <span class="number">2.365762</span>               <span class="number">0.000000</span>                       <span class="number">0.723752</span>      <span class="number">1.241990</span>             <span class="number">0.750460</span>                                <span class="number">1.296218</span>              <span class="number">1.471534</span>           <span class="number">1.057520</span>        <span class="number">0.175920</span>                    <span class="number">0.384644</span>         <span class="number">1.776773</span>                         -<span class="number">0.748403</span>                    <span class="number">0.839576</span>                 <span class="number">1.941287</span>                  -<span class="number">1.470429</span>                 <span class="number">0.897854</span>                                <span class="number">0.678476</span>                    <span class="number">1.557018</span>                                   <span class="number">0.417597</span>      -<span class="number">0.596913</span>        <span class="number">1.679774</span>                      <span class="number">0.464500</span>          <span class="number">1.308964</span>            <span class="number">0.967219</span>                                           <span class="number">0.492208</span>                       <span class="number">0.696028</span></span><br><span class="line">&#x27;Til There Was You (<span class="number">1997</span>)                             <span class="number">1.510674</span>        <span class="number">0.630794</span>     <span class="number">0.496617</span>         -<span class="number">1.795608</span>           <span class="number">1.907678</span>                  -<span class="number">0.054951</span>      <span class="number">1.073313</span>                     <span class="number">0.129526</span>        <span class="number">1.336306</span>    <span class="number">0.668421</span>              <span class="number">2.638797</span>                  -<span class="number">0.257290</span>           <span class="number">1.216915</span>               <span class="number">0.664211</span>                   <span class="number">0.488234</span>                   <span class="number">0.267261</span>      <span class="number">0.162866</span>                          -<span class="number">0.164631</span>                <span class="number">1.149065</span>     -<span class="number">0.322610</span>                         <span class="number">0.641192</span>     <span class="number">1.532262</span>                  <span class="number">2.640965</span>         <span class="number">1.490941</span>                             <span class="number">1.832159</span>                          <span class="number">2.236303</span>                        <span class="number">1.258772</span>             <span class="number">0.785154</span>               <span class="number">1.068833</span>                       <span class="number">0.025071</span>      <span class="number">0.855779</span>             <span class="number">1.225913</span>                                <span class="number">1.190013</span>              <span class="number">1.380760</span>           <span class="number">0.861668</span>        <span class="number">4.000000</span>                    <span class="number">0.697368</span>         <span class="number">0.273705</span>                          <span class="number">0.496617</span>                    <span class="number">0.763970</span>                 <span class="number">1.984962</span>                   <span class="number">1.763924</span>                 <span class="number">1.031796</span>                                <span class="number">0.621267</span>                    <span class="number">1.339136</span>                                   <span class="number">0.099698</span>       <span class="number">0.598912</span>        <span class="number">0.262424</span>                      <span class="number">0.475651</span>          <span class="number">0.782338</span>            <span class="number">0.516808</span>                                          -<span class="number">1.732051</span>                       <span class="number">0.605956</span></span><br><span class="line">&#x27;burbs, The (<span class="number">1989</span>)                                   -<span class="number">0.013073</span>        <span class="number">0.064867</span>     <span class="number">1.321789</span>          <span class="number">0.361127</span>           <span class="number">1.014971</span>                   <span class="number">0.726192</span>      <span class="number">0.305572</span>                    -<span class="number">0.028644</span>        <span class="number">1.372720</span>    <span class="number">0.456465</span>              <span class="number">0.336813</span>                   <span class="number">0.005951</span>           <span class="number">0.601755</span>               <span class="number">0.877713</span>                   <span class="number">0.411898</span>                  -<span class="number">0.083163</span>     -<span class="number">0.193238</span>                           <span class="number">0.126701</span>                <span class="number">0.252077</span>      <span class="number">0.313425</span>                         <span class="number">0.590393</span>     <span class="number">0.057180</span>                 -<span class="number">0.139970</span>         <span class="number">0.571788</span>                             <span class="number">0.416672</span>                          <span class="number">0.826132</span>                        <span class="number">0.269341</span>             <span class="number">0.331626</span>               <span class="number">1.136673</span>                      -<span class="number">0.966894</span>     -<span class="number">0.420371</span>            -<span class="number">0.306978</span>                                <span class="number">0.405254</span>              <span class="number">0.412314</span>           <span class="number">1.236560</span>       -<span class="number">2.309401</span>                    <span class="number">0.428489</span>         <span class="number">0.593771</span>                          <span class="number">0.156717</span>                    <span class="number">0.249993</span>                 <span class="number">0.182148</span>                  -<span class="number">0.659383</span>                 <span class="number">0.861991</span>                                <span class="number">0.532219</span>                   -<span class="number">0.405099</span>                                   <span class="number">0.431592</span>       <span class="number">0.238773</span>        <span class="number">0.362787</span>                      <span class="number">0.011264</span>         -<span class="number">0.388946</span>            <span class="number">0.237807</span>                                           <span class="number">0.647471</span>                       <span class="number">0.291993</span></span><br><span class="line">...And Justice for All (<span class="number">1979</span>)                        -<span class="number">0.282003</span>       -<span class="number">0.452068</span>     <span class="number">1.181417</span>          <span class="number">1.499766</span>           <span class="number">1.229824</span>                   <span class="number">0.583723</span>      <span class="number">0.838088</span>                     <span class="number">1.064018</span>        <span class="number">1.424965</span>    <span class="number">0.913746</span>              <span class="number">1.257100</span>                   <span class="number">0.441815</span>           <span class="number">1.196975</span>               <span class="number">0.233226</span>                   <span class="number">1.537426</span>                   <span class="number">1.306892</span>      <span class="number">1.140129</span>                           <span class="number">0.944214</span>                <span class="number">0.423379</span>      <span class="number">0.483786</span>                         <span class="number">0.945903</span>    -<span class="number">1.461128</span>                  <span class="number">1.176239</span>         <span class="number">0.471477</span>                             <span class="number">1.297771</span>                          <span class="number">0.461144</span>                        <span class="number">0.928020</span>             <span class="number">1.697135</span>               <span class="number">0.853684</span>                       <span class="number">1.165173</span>     -<span class="number">0.221249</span>             <span class="number">0.428785</span>                                <span class="number">0.992819</span>              <span class="number">0.884414</span>          -<span class="number">1.502004</span>       -<span class="number">4.000000</span>                    <span class="number">0.521268</span>         <span class="number">1.334955</span>                          <span class="number">0.988891</span>                    <span class="number">1.244786</span>                 <span class="number">0.855947</span>                   <span class="number">0.792061</span>                 <span class="number">0.440520</span>                                <span class="number">0.842330</span>                    <span class="number">1.539194</span>                                   <span class="number">0.080218</span>       <span class="number">0.149929</span>        <span class="number">0.885576</span>                      <span class="number">0.400732</span>          <span class="number">0.204792</span>           -<span class="number">0.007293</span>                                           <span class="number">0.775308</span>                       <span class="number">0.356081</span></span><br><span class="line">...                                                        ...             ...          ...               ...                ...                        ...           ...                          ...             ...         ...                   ...                        ...                ...                    ...                        ...                        ...           ...                                ...                     ...           ...                              ...          ...                       ...              ...                                  ...                               ...                             ...                  ...                    ...                            ...           ...                  ...                                     ...                   ...                ...             ...                         ...              ...                               ...                         ...                      ...                        ...                      ...                                     ...                         ...                                        ...            ...             ...                           ...               ...                 ...                                                ...                            ...</span><br><span class="line">Zed &amp; Two Noughts, <span class="keyword">A</span> (<span class="number">1985</span>)                           <span class="number">0.836310</span>       -<span class="number">1.212957</span>    -<span class="number">1.395585</span>          <span class="number">0.620174</span>          -<span class="number">1.276655</span>                   <span class="number">1.403725</span>      <span class="number">1.560798</span>                     <span class="number">1.805788</span>        <span class="number">1.415346</span>    <span class="number">0.593899</span>             -<span class="number">0.655172</span>                  -<span class="number">2.117794</span>           <span class="number">0.898027</span>              -<span class="number">0.428571</span>                  -<span class="number">0.569254</span>                   <span class="number">0.496139</span>     -<span class="number">1.042572</span>                          -<span class="number">1.189317</span>               -<span class="number">2.905488</span>      <span class="number">0.886288</span>                         <span class="number">0.798380</span>     <span class="number">0.000000</span>                  <span class="number">0.330049</span>         <span class="number">0.000000</span>                             <span class="number">0.000000</span>                          <span class="number">0.454859</span>                        <span class="number">2.765205</span>            -<span class="number">1.640981</span>              -<span class="number">2.785714</span>                       <span class="number">2.144570</span>      <span class="number">0.000000</span>            -<span class="number">0.844274</span>                               -<span class="number">1.127588</span>             -<span class="number">0.912871</span>           <span class="number">5.000000</span>             NaN                    <span class="number">0.487196</span>         <span class="number">0.382608</span>                          <span class="number">1.509009</span>                   -<span class="number">2.609369</span>                 <span class="number">0.000000</span>                   <span class="number">0.000000</span>                -<span class="number">0.690271</span>                               -<span class="number">0.113633</span>                   -<span class="number">0.252110</span>                                   <span class="number">0.218680</span>       <span class="number">1.500000</span>       -<span class="number">1.788854</span>                     -<span class="number">0.569723</span>         -<span class="number">0.558692</span>           -<span class="number">0.297117</span>                                           <span class="number">1.613509</span>                       <span class="number">2.527245</span></span><br><span class="line">Zero Effect (<span class="number">1998</span>)                                    <span class="number">0.162221</span>        <span class="number">0.131075</span>     <span class="number">0.526259</span>          <span class="number">0.549519</span>           <span class="number">1.117064</span>                   <span class="number">0.452726</span>      <span class="number">0.479961</span>                     <span class="number">0.946890</span>        <span class="number">0.984614</span>    <span class="number">0.455013</span>              <span class="number">0.435863</span>                   <span class="number">1.247768</span>           <span class="number">1.118133</span>               <span class="number">0.646690</span>                   <span class="number">0.427459</span>                   <span class="number">1.706885</span>      <span class="number">0.803311</span>                           <span class="number">0.076995</span>                <span class="number">0.014411</span>      <span class="number">1.095766</span>                         <span class="number">0.736177</span>     <span class="number">0.079451</span>                  <span class="number">0.051763</span>         <span class="number">1.344302</span>                             <span class="number">0.282362</span>                          <span class="number">0.835548</span>                        <span class="number">1.625524</span>             <span class="number">0.649810</span>               <span class="number">0.787563</span>                       <span class="number">0.855859</span>      <span class="number">1.806936</span>             <span class="number">1.286075</span>                                <span class="number">0.543602</span>              <span class="number">0.652023</span>           <span class="number">0.621897</span>       -<span class="number">0.375534</span>                    <span class="number">0.783495</span>         <span class="number">0.495774</span>                          <span class="number">1.108281</span>                    <span class="number">0.119222</span>                 <span class="number">1.152362</span>                   <span class="number">0.277078</span>                 <span class="number">0.357071</span>                                <span class="number">0.194030</span>                    <span class="number">0.626318</span>                                   <span class="number">0.749323</span>       <span class="number">0.684496</span>        <span class="number">0.192893</span>                      <span class="number">1.637870</span>          <span class="number">0.612885</span>            <span class="number">0.623082</span>                                           <span class="number">0.373698</span>                       <span class="number">0.539023</span></span><br><span class="line">Zero Kelvin (Kj�rlighetens kj�tere) (<span class="number">1995</span>)          <span class="number">4.000000</span>             NaN          NaN               NaN                NaN                   <span class="number">5.000000</span>           NaN                          NaN             NaN         NaN                   NaN                        NaN                NaN                    NaN                        NaN                        NaN           NaN                                NaN                     NaN      <span class="number">4.000000</span>                              NaN          NaN                       NaN              NaN                                  NaN                               NaN                             NaN                  NaN                    NaN                            NaN           NaN                  NaN                                     NaN                   NaN                NaN             NaN                         NaN              NaN                          <span class="number">4.000000</span>                         NaN                 <span class="number">5.000000</span>                        NaN                 <span class="number">4.000000</span>                                     NaN                         NaN                                        NaN            NaN             NaN                           NaN               NaN                 NaN                                                NaN                            NaN</span><br><span class="line">Zeus and Roxanne (<span class="number">1997</span>)                              -<span class="number">1.116841</span>        <span class="number">1.809982</span>     <span class="number">1.291819</span>         -<span class="number">0.890086</span>           <span class="number">2.694080</span>                   <span class="number">2.589379</span>      <span class="number">3.536447</span>                     <span class="number">3.131013</span>        <span class="number">1.875000</span>    <span class="number">2.851330</span>              <span class="number">3.878988</span>                   <span class="number">2.187213</span>           <span class="number">4.110725</span>               <span class="number">1.224745</span>                   <span class="number">1.179852</span>                   <span class="number">3.000000</span>      <span class="number">3.375386</span>                           <span class="number">2.614553</span>                <span class="number">2.249674</span>     -<span class="number">1.213954</span>                        -<span class="number">1.242825</span>    -<span class="number">4.000000</span>                  <span class="number">2.743977</span>         <span class="number">1.072381</span>                             <span class="number">3.577709</span>                          <span class="number">1.000000</span>                             NaN             <span class="number">2.102111</span>               <span class="number">0.176471</span>                       <span class="number">2.138090</span>      <span class="number">2.367456</span>             <span class="number">0.589256</span>                                <span class="number">0.000000</span>              <span class="number">1.008597</span>           <span class="number">2.420778</span>             NaN                   -<span class="number">0.476664</span>         <span class="number">0.000000</span>                         -<span class="number">1.214569</span>                   -<span class="number">0.242758</span>                 <span class="number">1.714319</span>                   <span class="number">1.647059</span>                 <span class="number">0.658281</span>                                <span class="number">3.070423</span>                    <span class="number">1.935284</span>                                  -<span class="number">0.244069</span>       <span class="number">1.682927</span>        <span class="number">2.815125</span>                     -<span class="number">0.699711</span>          <span class="number">2.158972</span>            <span class="number">0.978019</span>                                           <span class="number">2.713602</span>                      -<span class="number">0.533902</span></span><br><span class="line">eXistenZ (<span class="number">1999</span>)                                       <span class="number">0.352662</span>        <span class="number">0.149453</span>     <span class="number">0.897284</span>         -<span class="number">0.117981</span>           <span class="number">0.334542</span>                   <span class="number">0.237241</span>     -<span class="number">0.066332</span>                     <span class="number">0.872599</span>        <span class="number">0.123614</span>    <span class="number">0.551985</span>              <span class="number">0.302914</span>                   <span class="number">0.732703</span>          -<span class="number">0.109850</span>               <span class="number">0.026933</span>                  -<span class="number">0.223498</span>                   <span class="number">0.519370</span>      <span class="number">0.242578</span>                           <span class="number">0.470268</span>                <span class="number">0.181979</span>      <span class="number">0.152604</span>                         <span class="number">0.481355</span>    -<span class="number">0.052253</span>                  <span class="number">0.536570</span>         <span class="number">0.696260</span>                            -<span class="number">0.265388</span>                          <span class="number">0.908190</span>                        <span class="number">1.234135</span>             <span class="number">0.985967</span>               <span class="number">0.875996</span>                       <span class="number">0.536525</span>     -<span class="number">0.208595</span>            -<span class="number">0.951902</span>                                <span class="number">0.466325</span>              <span class="number">0.263828</span>           <span class="number">0.947958</span>        <span class="number">0.257130</span>                    <span class="number">0.553392</span>         <span class="number">1.251641</span>                          <span class="number">0.431051</span>                    <span class="number">0.267016</span>                 <span class="number">0.352095</span>                   <span class="number">0.413118</span>                 <span class="number">0.251193</span>                                <span class="number">0.729361</span>                    <span class="number">0.814935</span>                                   <span class="number">0.223163</span>       <span class="number">0.102585</span>       -<span class="number">0.237820</span>                      <span class="number">0.692067</span>          <span class="number">0.392987</span>            <span class="number">0.263721</span>                                          -<span class="number">0.234936</span>                       <span class="number">0.576582</span></span><br><span class="line"></span><br><span class="line">[<span class="number">3653</span> rows x <span class="number">53</span> columns]</span><br></pre></td></tr></table></figure>

<p><strong>求和：</strong></p>
<p>对一个DataFrame使用sum()函数进行求和，并通过传入参数axis，来指定求和方向</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">ratings = pd<span class="selector-class">.read_csv</span>(<span class="string">&quot;/Users/movie/ratings.csv&quot;</span>)</span><br><span class="line">movies = pd<span class="selector-class">.read_csv</span>(<span class="string">&quot;/Users/movie/movies.csv&quot;</span>)</span><br><span class="line">result = pd<span class="selector-class">.merge</span>(ratings,movies)</span><br><span class="line">user_movie = result<span class="selector-class">.pivot_table</span>(index=<span class="string">&quot;用户id&quot;</span>,<span class="attribute">columns</span>=<span class="string">&quot;电影名&quot;</span>,values=<span class="string">&quot;评分&quot;</span>)</span><br><span class="line">corrMatrix = user_movie<span class="selector-class">.corr</span>(method=<span class="string">&quot;pearson&quot;</span>)</span><br><span class="line">userRatings = user_movie<span class="selector-class">.loc</span><span class="selector-attr">[1]</span><span class="selector-class">.dropna</span>()</span><br><span class="line">name = userRatings1<span class="selector-class">.index</span></span><br><span class="line">score = userRatings1<span class="selector-class">.values</span></span><br><span class="line">simsMovie = corrMatrix<span class="selector-attr">[name]</span><span class="selector-class">.drop</span>(index=name)</span><br><span class="line">prod = score*simsMovie</span><br><span class="line">movieList = prod<span class="selector-class">.sum</span>(axis=<span class="number">1</span>)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(movieList)</span></span></span><br></pre></td></tr></table></figure>

<p><strong>output:</strong></p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">电影名</span><br><span class="line">$<span class="number">1</span>,<span class="number">000</span>,<span class="number">000</span> Duck (<span class="number">1971</span>)                           <span class="number">8.030264</span></span><br><span class="line">&#x27;Night Mother (<span class="number">1986</span>)                            45.<span class="number">387079</span></span><br><span class="line">&#x27;Til There Was You (<span class="number">1997</span>)                       <span class="number">45.353853</span></span><br><span class="line">&#x27;burbs, The (<span class="number">1989</span>)                              14.<span class="number">115820</span></span><br><span class="line">...And Justice for All (<span class="number">1979</span>)                   32.<span class="number">489896</span></span><br><span class="line">                                                  ...    </span><br><span class="line">Zed &amp; Two Noughts, A (<span class="number">1985</span>)                      3.<span class="number">263237</span></span><br><span class="line">Zero Effect (<span class="number">1998</span>)                              35.<span class="number">688877</span></span><br><span class="line">Zero Kelvin (Kjarlighetens kjatere) (<span class="number">1995</span>)      26.<span class="number">000000</span></span><br><span class="line">Zeus and Roxanne (<span class="number">1997</span>)                         70.<span class="number">295639</span></span><br><span class="line">eXistenZ (<span class="number">1999</span>)                                 19.<span class="number">185318</span></span><br><span class="line">Length: <span class="number">3653</span>, dtype: float64</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="针对目标用户和推荐规则，做出推荐"><a href="#针对目标用户和推荐规则，做出推荐" class="headerlink" title="针对目标用户和推荐规则，做出推荐"></a>针对目标用户和推荐规则，做出推荐</h2><h3 id="STEP-1-将推荐列表按照按照兴趣程度降序排序"><a href="#STEP-1-将推荐列表按照按照兴趣程度降序排序" class="headerlink" title="STEP 1 将推荐列表按照按照兴趣程度降序排序"></a>STEP 1 将推荐列表按照按照兴趣程度降序排序</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">ratings = pd<span class="selector-class">.read_csv</span>(<span class="string">&quot;/Users/movie/ratings.csv&quot;</span>)</span><br><span class="line">movies = pd<span class="selector-class">.read_csv</span>(<span class="string">&quot;/Users/movie/movies.csv&quot;</span>)</span><br><span class="line">result = pd<span class="selector-class">.merge</span>(ratings,movies)</span><br><span class="line">user_movie = result<span class="selector-class">.pivot_table</span>(index=<span class="string">&quot;用户id&quot;</span>,<span class="attribute">columns</span>=<span class="string">&quot;电影名&quot;</span>,values=<span class="string">&quot;评分&quot;</span>)</span><br><span class="line">corrMatrix = user_movie<span class="selector-class">.corr</span>(method=<span class="string">&quot;pearson&quot;</span>)</span><br><span class="line">userRatings = user_movie<span class="selector-class">.loc</span><span class="selector-attr">[1]</span><span class="selector-class">.dropna</span>()</span><br><span class="line">name = userRatings1<span class="selector-class">.index</span></span><br><span class="line">score = userRatings1<span class="selector-class">.values</span></span><br><span class="line">simsMovie = corrMatrix<span class="selector-attr">[name]</span><span class="selector-class">.drop</span>(index=name)</span><br><span class="line">prod = score*simsMovie</span><br><span class="line">movieList = prod<span class="selector-class">.sum</span>(axis=<span class="number">1</span>)</span><br><span class="line">movieList = movieList<span class="selector-class">.sort_values</span>(ascending=False)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(movieList)</span></span></span><br></pre></td></tr></table></figure>
<p><strong>output:</strong></p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Race the Sun (<span class="number">1996</span>)                      <span class="number">124.045339</span></span><br><span class="line">Telling Lies in America (<span class="number">1997</span>)           <span class="number">113.658366</span></span><br><span class="line">Incognito (<span class="number">1997</span>)                         <span class="number">109.365980</span></span><br><span class="line">Aparajito (<span class="number">1956</span>)                         <span class="number">107.033970</span></span><br><span class="line">Small Wonders (<span class="number">1996</span>)                     <span class="number">105.303361</span></span><br><span class="line">                                            ...    </span><br><span class="line">Fear, The (<span class="number">1995</span>)                         -<span class="number">77.589823</span></span><br><span class="line">Red Dwarf, The (Le Nain rouge) (<span class="number">1998</span>)    -<span class="number">78.522985</span></span><br><span class="line">Glass Shield, The (<span class="number">1994</span>)                 -<span class="number">82.377600</span></span><br><span class="line">Kicked in the Head (<span class="number">1997</span>)               -<span class="number">115.874313</span></span><br><span class="line">Coming Apart (<span class="number">1969</span>)                     -<span class="number">142.000000</span></span><br><span class="line">Length: <span class="number">3545</span>, dtype: float64</span><br></pre></td></tr></table></figure>
<h3 id="STEP-2-根据推荐规则获取指定索引"><a href="#STEP-2-根据推荐规则获取指定索引" class="headerlink" title="STEP 2 根据推荐规则获取指定索引"></a>STEP 2 根据推荐规则获取指定索引</h3><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">ratings = pd.read_csv(&quot;/Users/movie/ratings.csv&quot;)</span><br><span class="line">movies = pd.read_csv(&quot;/Users/movie/movies.csv&quot;)</span><br><span class="line">result = pd.merge(ratings,movies)</span><br><span class="line">user_movie = result.pivot_table(<span class="keyword">index</span>=&quot;用户id&quot;,<span class="keyword">columns</span>=&quot;电影名&quot;,<span class="keyword">values</span>=&quot;评分&quot;)</span><br><span class="line">corrMatrix = user_movie.corr(<span class="keyword">method</span>=&quot;pearson&quot;)</span><br><span class="line">userRatings = user_movie.loc[<span class="number">1</span>].dropna()</span><br><span class="line"><span class="type">name</span> = userRatings1.<span class="keyword">index</span></span><br><span class="line">score = userRatings1.<span class="keyword">values</span></span><br><span class="line">simsMovie = corrMatrix[<span class="type">name</span>].<span class="keyword">drop</span>(<span class="keyword">index</span>=<span class="type">name</span>)</span><br><span class="line">prod = score*simsMovie</span><br><span class="line">movieList = prod.sum(axis=<span class="number">1</span>)</span><br><span class="line">movieList = movieList.sort_values(ascending=<span class="keyword">False</span>)</span><br><span class="line"># 获取感兴趣程度最高的前<span class="number">5</span>部电影</span><br><span class="line">movieList = movieList.<span class="keyword">index</span>[<span class="number">0</span>:<span class="number">5</span>]</span><br><span class="line">print(movieList)</span><br></pre></td></tr></table></figure>
<p><strong>output:</strong></p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Index([&#x27;Race the Sun (<span class="number">1996</span>)&#x27;, &#x27;Telling Lies in America (<span class="number">1997</span>)&#x27;,</span><br><span class="line">       &#x27;Incognito (<span class="number">1997</span>)&#x27;, &#x27;Aparajito (<span class="number">1956</span>)&#x27;, &#x27;Small Wonders (<span class="number">1996</span>)&#x27;],</span><br><span class="line">      dtype=&#x27;object&#x27;, name=&#x27;电影名&#x27;)</span><br></pre></td></tr></table></figure>
<h3 id="STEP-3-获取可推荐的电影名称"><a href="#STEP-3-获取可推荐的电影名称" class="headerlink" title="STEP 3 获取可推荐的电影名称"></a>STEP 3 获取可推荐的电影名称</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">ratings = pd<span class="selector-class">.read_csv</span>(<span class="string">&quot;/Users/movie/ratings.csv&quot;</span>)</span><br><span class="line">movies = pd<span class="selector-class">.read_csv</span>(<span class="string">&quot;/Users/movie/movies.csv&quot;</span>)</span><br><span class="line">result = pd<span class="selector-class">.merge</span>(ratings,movies)</span><br><span class="line">user_movie = result<span class="selector-class">.pivot_table</span>(index=<span class="string">&quot;用户id&quot;</span>,<span class="attribute">columns</span>=<span class="string">&quot;电影名&quot;</span>,values=<span class="string">&quot;评分&quot;</span>)</span><br><span class="line">corrMatrix = user_movie<span class="selector-class">.corr</span>(method=<span class="string">&quot;pearson&quot;</span>)</span><br><span class="line">userRatings = user_movie<span class="selector-class">.loc</span><span class="selector-attr">[1]</span><span class="selector-class">.dropna</span>()</span><br><span class="line">name = userRatings1<span class="selector-class">.index</span></span><br><span class="line">score = userRatings1<span class="selector-class">.values</span></span><br><span class="line">simsMovie = corrMatrix<span class="selector-attr">[name]</span><span class="selector-class">.drop</span>(index=name)</span><br><span class="line">prod = score*simsMovie</span><br><span class="line">movieList = prod<span class="selector-class">.sum</span>(axis=<span class="number">1</span>)</span><br><span class="line">movieList = movieList<span class="selector-class">.sort_values</span>(ascending=False)</span><br><span class="line">movieList = movieList<span class="selector-class">.index</span><span class="selector-attr">[0:5]</span></span><br><span class="line">movieList = movieList<span class="selector-class">.values</span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(movieList)</span></span></span><br></pre></td></tr></table></figure>
<p><strong>output:</strong></p>
<figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">&#x27;Race</span> the Sun (<span class="name">1996</span>)&#x27; <span class="symbol">&#x27;Telling</span> Lies in America (<span class="name">1997</span>)&#x27; <span class="symbol">&#x27;Incognito</span> (<span class="name">1997</span>)&#x27;</span><br><span class="line"> <span class="symbol">&#x27;Aparajito</span> (<span class="name">1956</span>)&#x27; <span class="symbol">&#x27;Small</span> Wonders (<span class="name">1996</span>)&#x27;]</span><br></pre></td></tr></table></figure>

    </div>

    
    
    
      
  <div class="popular-posts-header">相关文章</div>
  <ul class="popular-posts">
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/23702362/" rel="bookmark">多重线性回归</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/28281e4/" rel="bookmark">一元线性回归</a></div>
    </li>
    <li class="popular-posts-item">
      <div class="popular-posts-title"><a href="/posts/a1ff4487/" rel="bookmark">用户分层模型</a></div>
    </li>
  </ul>

        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者： </strong>小刑
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://xxsqlll.github.io/posts/24cc6ca3/" title="基于物品的协同过滤">https://xxsqlll.github.io/posts/24cc6ca3/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E5%AD%A6%E4%B9%A0/" rel="tag"># 学习</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/posts/16d6d1f6/" rel="prev" title="关联分析和Apriori算法">
      <i class="fa fa-chevron-left"></i> 关联分析和Apriori算法
    </a></div>
      <div class="post-nav-item">
    <a href="/posts/a1ff4487/" rel="next" title="用户分层模型">
      用户分层模型 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  
    <div>
      <div>
  
    <div style="text-align:center;color:#bfbfbf;font-size:16px;">
      <span>-------- 本文结束 </span>
      <i class="fa fa-paw"></i>
      <span> 感谢阅读 --------</span>
    </div>
  
</div>

    </div>
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E7%89%A9%E5%93%81%E7%9A%84%E5%8D%8F%E5%90%8C%E8%BF%87%E6%BB%A4"><span class="nav-number">1.</span> <span class="nav-text">基于物品的协同过滤</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%AE%9A%E4%B9%89"><span class="nav-number">1.1.</span> <span class="nav-text">1. 定义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-itemCF%E5%A4%84%E7%90%86%E6%B5%81%E7%A8%8B"><span class="nav-number">1.2.</span> <span class="nav-text">2. itemCF处理流程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%BB%E6%89%BE%E7%9B%B8%E4%BC%BC%E7%9A%84%E7%94%B5%E5%BD%B1"><span class="nav-number">1.3.</span> <span class="nav-text">寻找相似的电影</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#STEP-1-%E8%AF%BB%E5%8F%96%E5%B9%B6%E6%8B%BC%E6%8E%A5%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="nav-number">1.3.1.</span> <span class="nav-text">STEP 1 读取并拼接数据集</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#STEP-2-%E6%9E%84%E5%BB%BA%E3%80%8C%E7%94%A8%E6%88%B7-%E7%89%A9%E5%93%81%E6%95%B0%E6%8D%AE%E9%80%8F%E8%A7%86%E8%A1%A8%E3%80%8D"><span class="nav-number">1.3.2.</span> <span class="nav-text">STEP 2 构建「用户-物品数据透视表」</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#STEP-3-%E8%AE%A1%E7%AE%97%E6%AF%8F%E4%B8%A4%E9%83%A8%E7%94%B5%E5%BD%B1%E4%B9%8B%E9%97%B4%E7%9A%84%E7%9A%AE%E5%B0%94%E9%80%8A%E7%9B%B8%E5%85%B3%E7%B3%BB%E6%95%B0"><span class="nav-number">1.3.3.</span> <span class="nav-text">STEP 3 计算每两部电影之间的皮尔逊相关系数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%BB%E6%89%BE%E7%9B%AE%E6%A0%87%E7%94%A8%E6%88%B7%E6%84%9F%E5%85%B4%E8%B6%A3%E7%9A%84%E7%94%B5%E5%BD%B1"><span class="nav-number">1.4.</span> <span class="nav-text">寻找目标用户感兴趣的电影</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#STEP-1-%E8%8E%B7%E5%8F%96%E7%9B%AE%E6%A0%87%E7%94%A8%E6%88%B7%E8%AF%84%E5%88%86%E8%BF%87%E7%9A%84%E7%94%B5%E5%BD%B1%E6%95%B0%E6%8D%AE"><span class="nav-number">1.4.1.</span> <span class="nav-text">STEP 1 获取目标用户评分过的电影数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#STEP-2-%E8%8E%B7%E5%8F%96%E7%94%B5%E5%BD%B1%E4%B9%8B%E9%97%B4%E7%9A%84%E7%9A%AE%E5%B0%94%E9%80%8A%E7%B3%BB%E6%95%B0"><span class="nav-number">1.4.2.</span> <span class="nav-text">STEP 2 获取电影之间的皮尔逊系数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#STEP-3-%E8%AE%A1%E7%AE%97%E5%88%86%E6%95%B0%E4%B8%8E%E7%9A%AE%E5%B0%94%E9%80%8A%E7%9B%B8%E5%85%B3%E7%B3%BB%E6%95%B0%E4%B9%8B%E9%97%B4%E7%9A%84%E4%B9%98%E7%A7%AF"><span class="nav-number">1.4.3.</span> <span class="nav-text">STEP 3 计算分数与皮尔逊相关系数之间的乘积</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%92%88%E5%AF%B9%E7%9B%AE%E6%A0%87%E7%94%A8%E6%88%B7%E5%92%8C%E6%8E%A8%E8%8D%90%E8%A7%84%E5%88%99%EF%BC%8C%E5%81%9A%E5%87%BA%E6%8E%A8%E8%8D%90"><span class="nav-number">1.5.</span> <span class="nav-text">针对目标用户和推荐规则，做出推荐</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#STEP-1-%E5%B0%86%E6%8E%A8%E8%8D%90%E5%88%97%E8%A1%A8%E6%8C%89%E7%85%A7%E6%8C%89%E7%85%A7%E5%85%B4%E8%B6%A3%E7%A8%8B%E5%BA%A6%E9%99%8D%E5%BA%8F%E6%8E%92%E5%BA%8F"><span class="nav-number">1.5.1.</span> <span class="nav-text">STEP 1 将推荐列表按照按照兴趣程度降序排序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#STEP-2-%E6%A0%B9%E6%8D%AE%E6%8E%A8%E8%8D%90%E8%A7%84%E5%88%99%E8%8E%B7%E5%8F%96%E6%8C%87%E5%AE%9A%E7%B4%A2%E5%BC%95"><span class="nav-number">1.5.2.</span> <span class="nav-text">STEP 2 根据推荐规则获取指定索引</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#STEP-3-%E8%8E%B7%E5%8F%96%E5%8F%AF%E6%8E%A8%E8%8D%90%E7%9A%84%E7%94%B5%E5%BD%B1%E5%90%8D%E7%A7%B0"><span class="nav-number">1.5.3.</span> <span class="nav-text">STEP 3 获取可推荐的电影名称</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="小刑"
      src="/images/avatar.JPG">
  <p class="site-author-name" itemprop="name">小刑</p>
  <div class="site-description" itemprop="description">这个人很懒，什么也不想写</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">27</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/xxsqlll" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;xxsqlll" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:xxsqlll@gmail.com" title="E-Mail → mailto:xxsqlll@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>



  <div class="links-of-recent-posts motion-element">
    <div class="links-of-recent-posts-title">
      <i class="fa fa-history fa-fw"></i>
      最近文章
    </div>
    <ul class="links-of-recent-posts-list">
        <li class="links-of-recent-posts-item">
          <a href="/posts/23702362/" title="posts&#x2F;23702362&#x2F;">多重线性回归</a>
        </li>
        <li class="links-of-recent-posts-item">
          <a href="/posts/28281e4/" title="posts&#x2F;28281e4&#x2F;">一元线性回归</a>
        </li>
        <li class="links-of-recent-posts-item">
          <a href="/posts/a1ff4487/" title="posts&#x2F;a1ff4487&#x2F;">用户分层模型</a>
        </li>
        <li class="links-of-recent-posts-item">
          <a href="/posts/24cc6ca3/" title="posts&#x2F;24cc6ca3&#x2F;">基于物品的协同过滤</a>
        </li>
        <li class="links-of-recent-posts-item">
          <a href="/posts/16d6d1f6/" title="posts&#x2F;16d6d1f6&#x2F;">关联分析和Apriori算法</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="music163player">
      <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1831469103&auto=0&height=66">
      </iframe>
  </div>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小刑</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">163k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">4:56</span>
</div>

<!--
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>--><div>
  <span id="sitetime"></span>
  <script language=javascript>
      function siteTime(){
          window.setTimeout("siteTime()", 1000);
          var seconds = 1000;
          var minutes = seconds * 60;
          var hours = minutes * 60;
          var days = hours * 24;
          var years = days * 365;
          var today = new Date();
          var todayYear = today.getFullYear();
          var todayMonth = today.getMonth()+1;
          var todayDate = today.getDate();
          var todayHour = today.getHours();
          var todayMinute = today.getMinutes();
          var todaySecond = today.getSeconds();
          /* 
          Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
          year - 作为date对象的年份，为4位年份值
          month - 0-11之间的整数，做为date对象的月份
          day - 1-31之间的整数，做为date对象的天数
          hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
          minutes - 0-59之间的整数，做为date对象的分钟数
          seconds - 0-59之间的整数，做为date对象的秒数
          microseconds - 0-999之间的整数，做为date对象的毫秒数
      */
          var t1 = Date.UTC(2023,7,18,11,40,00); //北京时间2018-2-13 00:00:00
          var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
          var diff = t2-t1;
      var diffYears = Math.floor(diff/years);
      var diffDays = Math.floor((diff/days)-diffYears*365);
      var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
      var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
      var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
      document.getElementById("sitetime").innerHTML=" 小破站已平稳运行"+/*diffYears+" 年 "+*/diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒";
    }
      siteTime();
  </script>
</div>


        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  
  <span class="site-uv" title="总访客量">
    我的第<span id="busuanzi_value_site_uv"></span>位朋友, 
  </span>

  <span class="site-pv" title="总访问量">
    经过<span id="busuanzi_value_site_pv"></span>次回眸与你相遇
  </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : '0VHq4jqwE0zTWM6rJFbms2tJ-gzGzoHsz',
      appKey     : '1QAGv9wIN4teXzpcIV8p6NyJ',
      placeholder: "欢迎交流",
      avatar     : 'monsterid',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

    </div>
  

  <script async src="/js/cursor/fireworks.js"></script>





  <canvas id="evanyou"></canvas>
  <style>
    #evanyou {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      z-index: -1;
    }
  </style>
  <script src="/js/evan-you.js"></script>



  
  
     <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
     <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
     <script type="text/javascript" src="/js/src/fireworks.js"></script>
  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body>
</html>

